var DAGitty;(()=>{var e={927:function(e){!function(e){"use strict";var t=/xyz/.test((function(){xyz}))?/\b_super\b/:/.*/;function r(){}r.extend=function(e){var n=this.prototype,i=Object.create(n);for(var o in e)i[o]="function"==typeof e[o]&&"function"==typeof n[o]&&t.test(e[o])?function(e,t){return function(){var r=this._super;this._super=n[e];var i=t.apply(this,arguments);return this._super=r,i}}(o,e[o]):e[o];var a="function"==typeof i.init?i.hasOwnProperty("init")?i.init:function(){n.init.apply(this,arguments)}:function(){};return a.prototype=i,i.constructor=a,a.extend=r.extend,a},e.Class=r}(this),e.exports=e.exports.Class},341:(e,t,r)=>{const n=r(927),i=r(264),o=r(50);var a,s=n.extend({managed_vertex_property_names:["source","target","adjustedNode","latentNode","selectedNode"],init:function(e){this.vertices=new i,this.edges=[],this.type="digraph",this.name=null,this.bb=null,this.managed_vertex_properties={},o.each(this.managed_vertex_property_names,(function(e){this.managed_vertex_properties[e]=new i}),this),"string"==typeof e&&r(281).parseDot(e,this)},getBoundingBox:function(){return this.bb},setBoundingBox:function(e){this.bb=e},getName:function(){return this.name},setName:function(e){this.name=e},getType:function(){return this.type},setType:function(e){this.type=e},getEdges:function(){return this.edges},getVertexIDs:function(){return this.vertices.keys()},getNumberOfVertices:function(){return this.vertices.size()},getNumberOfEdges:function(){return this.edges.length},getVertices:function(){return this.vertices.values()},getVerticesWithProperty:function(e){return this.managed_vertex_properties[e].values()},addVertexProperty:function(e,t){var r=this.getVertex(e);return r&&this.managed_vertex_properties[t].set(r.id,r),this},removeVertexProperty:function(e,t){var r=this.getVertex(e);return r&&this.managed_vertex_properties[t].unset(r.id),this},removePropertyFromAllVertices:function(e){return this.managed_vertex_properties[e]=new i,this},vertexHasProperty:function(e,t){var r=this.getVertex(e);return r&&this.managed_vertex_properties[t].contains(r.id)},copyAllPropertiesTo:function(e){var t=this;o.each(t.managed_vertex_property_names,(function(r){o.each(t.getVerticesWithProperty(r),(function(t){e.addVertexProperty(t,r)}))})),o.each(t.getEdges(),(function(t){var r=e.getEdge(t.v1,t.v2,t.directed);if(r&&(r.layout_pos_x=t.layout_pos_x,r.layout_pos_y=t.layout_pos_y,r.style=t.style,t.attributes)){r.attributes={};for(var n=Object.keys(t.attributes),i=0;i<n.length;i++)r.attributes[n[i]]=t.attributes[n[i]]}})),e.setType(this.getType())},getVertex:function(e){if("string"==typeof e)return this.vertices.get(e);if(e instanceof s.Vertex)return this.vertices.get(e.id);if(e instanceof Array)return e.map(this.getVertex,this);throw"Illegal value passed to getVertex : "+e},addVertex:function(e){return e instanceof s.Vertex?(this.vertices.set(e.id,e),e):this.addVertex(new s.Vertex({id:e}))},renameVertex:function(e,t){var r=this.getVertex(e),n=[];return o.each(this.managed_vertex_property_names,(function(e){var t=e.substring(0,1).toUpperCase()+e.substring(1,e.length);this["is"+t](r)&&(n.push(t),this["remove"+t](r))}),this),this.vertices.unset(e),r.id=t,this.vertices.set(r.id,r),o.each(n,(function(e){this["add"+e](r)}),this),this},deleteVertex:function(e){return e=this.getVertex(e),o.each(e.outgoingEdges,(function(e){e.v2.incomingEdges=o.without(e.v2.incomingEdges,e)})),o.each(e.incomingEdges,(function(e){e.v1.outgoingEdges=o.without(e.v1.outgoingEdges,e)})),this.edges=o.filter(this.edges,(function(t){return!(o.contains(e.incomingEdges,t)||o.contains(e.outgoingEdges,t))})),o.each(this.managed_vertex_property_names,(function(t){this["remove"+(t.substring(0,1).toUpperCase()+t.substring(1,t.length))](e)}),this),this.vertices.unset(e.id),this},clone:function(e){0==arguments.length&&(e=!0);var t=new s;return o.each(this.getVertices(),(function(e){t.addVertex(e.cloneWithoutEdges())})),e&&o.each(this.edges,(function(e){t.addEdge(e.v1.id,e.v2.id,e.directed)})),this.copyAllPropertiesTo(t),t.setType(this.getType()),t},contractVertex:function(e){var t=e.getChildren(),r=e.getParents(),n=e.getSpouses(),i=e.getNeighbours(),a=this;o.each(t,(function(e){o.each(t,(function(t){e.id!=t.id&&a.addEdge(t,e,s.Edgetype.Bidirected)})),o.each(r,(function(t){e.id!=t.id&&a.addEdge(t,e,s.Edgetype.Directed)})),o.each(n,(function(t){e.id!=t.id&&a.addEdge(t,e,s.Edgetype.Bidirected)})),o.each(i,(function(t){e.id!=t.id&&a.addEdge(t,e,s.Edgetype.Directed)}))})),o.each(r,(function(e){o.each(i,(function(t){e.id!=t.id&&a.addEdge(e,t,s.Edgetype.Directed)}))})),o.each(n,(function(e){o.each(i,(function(t){e.id!=t.id&&a.addEdge(e,t,s.Edgetype.Bidirected)}))})),o.each(i,(function(e){o.each(i,(function(t){e.id!=t.id&&a.addEdge(e,t,s.Edgetype.Undirected)}))})),this.deleteVertex(e)},clearVisited:function(){return o.each(this.getVertices(),(function(e){e.traversal_info.visited=!1})),this},clearTraversalInfo:function(){return o.each(this.getVertices(),(function(e){e.traversal_info={}})),this},transitiveClosureOf:function(e,t,r){"use strict";r?r():this.clearVisited();var n=o.reject(e.slice(),s.Vertex.isVisited);o.each(n,s.Vertex.markAsVisited);for(var i=[],a=function(e){s.Vertex.markAsVisited(e),n.push(e)};n.length>0;){var d=n.pop(),u=o.reject(d[t](),s.Vertex.isVisited);o.each(u,a),i.push(d)}return this.clearVisited(),i},districtOf:function(e,t){return this.transitiveClosureOf(e,"getSpouses",t)},ancestorsOf:function(e,t){return this.transitiveClosureOf(e,"getParents",t)},anteriorsOf:function(e,t){return this.transitiveClosureOf(e,"getPossibleParentsAndPossibleNeighbours",t)},descendantsOf:function(e,t){return this.transitiveClosureOf(e,"getChildren",t)},posteriorsOf:function(e,t){return this.transitiveClosureOf(e,"getChildrenAndNeighbours",t)},childrenOf:function(e){for(var t=[],r=0;r<e.length;r++)t=t.concat(e[r].getChildren());return o.uniq(t)},parentsOf:function(e){for(var t=[],r=0;r<e.length;r++)t=o.uniq(t.concat(e[r].getParents()));return o.uniq(t)},neighboursOf:function(e){var t=new i;o.each(e,(function(e){t.set(e.id,e)}));var r=new i;return o.each(e,(function(e){o.each(e.getNeighbours(),(function(e){t.get(e.id)||r.set(e.id,e)}))})),r.values()},spousesOf:function(e){var t=new i;o.each(e,(function(e){t.set(e.id,e)}));var r=new i;return o.each(e,(function(e){o.each(e.getSpouses(),(function(e){t.get(e.id)||r.set(e.id,e)}))})),r.values()},adjacentNodesOf:function(e){var t=new i;o.each(e,(function(e){t.set(e.id,e)}));var r=new i;return o.each(e,(function(e){o.each(e.getAdjacentNodes(),(function(e){t.get(e.id)||r.set(e.id,e)}))})),r.values()},areAdjacent:function(e,t){return e=this.getVertex(e),t=this.getVertex(t),!!o.any(o.map(e.outgoingEdges,(function(e){return e.v2==t})))||o.any(o.map(e.incomingEdges,(function(e){return e.v1==t})))},visitAllPathsBetweenVisitedNodesInTree:function(){var e,t=this.getVertex(Object.keys(this.vertices.kv)[0]);if(t){var r=[t];o.each(this.vertices.values(),(function(e){e.traversal_info.depth=0})),t.traversal_info.parent=null;for(var n=0;r.length>0;){e=r.pop();var i=o.reject(e.getNeighbours(),(function(e){return e===t||e.traversal_info.depth>0}));o.each(i,(function(t){t.traversal_info.depth=e.traversal_info.depth+1,s.Vertex.isVisited(t)&&t.traversal_info.depth>n&&(n=t.traversal_info.depth),t.traversal_info.parent=e,r.push(t)}))}for(var a=new Array(n+1),d=0;d<=n;d++)a[d]=[];var u=0;for(o.chain(this.vertices.values()).filter(s.Vertex.isVisited).each((function(e){a[e.traversal_info.depth].push(e),u++}));u>1;)for((e=a[n].pop()).traversal_info.parent&&!s.Vertex.isVisited(e.traversal_info.parent)?(s.Vertex.markAsVisited(e.traversal_info.parent),a[n-1].push(e.traversal_info.parent)):u--;u>0&&0==a[n].length;)n--}},getEdge:function(e,t,r){if(e=this.getVertex(e),t=this.getVertex(t),void 0===r&&(r=s.Edgetype.Directed),e&&t)return o.find(e.outgoingEdges,(function(e){return e.v2.id==t.id&&e.directed==r}))||(s.Edgetype.Symmetric[r]?o.find(e.incomingEdges,(function(e){return e.v1.id==t.id&&e.directed==r})):void 0)},addEdge:function(e,t,r){e=this.getVertex(e),t=this.getVertex(t),void 0===r&&(r=s.Edgetype.Directed);var n=this.getEdge(e,t,r);return void 0===n&&s.Edgetype.Symmetric[r]&&(n=this.getEdge(t,e,r)),void 0===n&&(n=this.quickAddEdge(e,t,r)),n},quickAddEdge:function(e,t,r){var n=new s.Edge({v1:e,v2:t,directed:r});return n.v1.outgoingEdges.push(n),n.v2.incomingEdges.push(n),this.edges.push(n),n},quickAddDirectedEdge:function(e,t){this.quickAddEdge(e,t,s.Edgetype.Directed)},deleteEdge:function(e,t,r){if(void 0===r)throw"too few parameters for deleteEdge!";var n=this.getEdge(e,t,r);return void 0!==n&&(n.v1.outgoingEdges=o.without(n.v1.outgoingEdges,n),n.v2.incomingEdges=o.without(n.v2.incomingEdges,n),this.edges=o.without(this.edges,n),!0)},changeEdge:function(e,t,r){var n=(r=void 0===r?e.v1:this.getVertex(r))==e.v1?e.v2:e.v1;return void 0===this.getEdge(r,n,t)&&(s.Edgetype.Symmetric[t]||r!=e.v1&&this.reverseEdge(e),e.directed=t,!0)},reverseEdge:function(e){e.v1.outgoingEdges=o.without(e.v1.outgoingEdges,e),e.v2.incomingEdges=o.without(e.v2.incomingEdges,e);var t=e.v2;e.v2=e.v1,e.v1=t,e.v1.outgoingEdges.push(e),e.v2.incomingEdges.push(e)},toAdjacencyList:function(){var e=[],t=this;return o.each(t.vertices.values(),(function(r){var n=r.getChildren(),i=r.getNeighbours(),a=r.getSpouses(),d="",u=[];n.length+i.length+a.length>0&&(o.each(i,(function(e){var n=t.getEdge(r,e,s.Edgetype.Undirected);n.v1.id===r.id?(d=encodeURIComponent(n.v2.id),n.layout_pos_x&&(d+=" @"+n.layout_pos_x.toFixed(3)+","+n.layout_pos_y.toFixed(3))):d=encodeURIComponent(n.v1.id),u.push(d)})),o.each(n,(function(e){var n=t.getEdge(r,e,s.Edgetype.Directed);d=encodeURIComponent(e.id),n.layout_pos_x&&(d+=" @"+n.layout_pos_x.toFixed(3)+","+n.layout_pos_y.toFixed(3)),u.push(d)})),o.each(a,(function(e){var n=t.getEdge(r,e,s.Edgetype.Bidirected);n.v1.id===r.id?(d=encodeURIComponent(n.v2.id),n.layout_pos_x&&(d+=" @"+n.layout_pos_x.toFixed(3)+","+n.layout_pos_y.toFixed(3))):d=encodeURIComponent(n.v1.id),u.push(d)}))),u.length>0&&(u.sort(),e.push(encodeURIComponent(r.id)+" "+u.join(" ")))})),e.sort(),e.join("\n")},toVertexLabels:function(){var e=this,t=[];return o.each(this.vertices.values(),(function(r){t.push(function(e,t){var r=(t.isSource(e)?"E":"")+(t.isTarget(e)?"O":"")+(t.isAdjustedNode(e)?"A":"")+(t.isLatentNode(e)?"U":"");return r||(r=1),encodeURIComponent(e.id)+" "+r+(void 0!==e.layout_pos_x?" @"+e.layout_pos_x.toFixed(3)+","+e.layout_pos_y.toFixed(3):"")}(r,e)+"\n")})),t.sort(),""+t.join("")},toString:function(){return d.toDot(this)},oldToString:function(){return this.toVertexLabels()+"\n"+this.toAdjacencyList()},hasCompleteLayout:function(){return o.all(this.vertices.values(),(function(e){return void 0!==e.layout_pos_x&&void 0!==e.layout_pos_y}))},countPaths:function(){if(0==this.getSources().length||0==this.getTargets().length)return 0;var e=function(t,r){return s.Vertex.isVisited(t)||(s.Vertex.markAsVisited(t),t===r?t.traversal_info.paths_to_sink=1:(t.traversal_info.paths_to_sink=0,o.each(t.getChildren(),(function(n){t.traversal_info.paths_to_sink+=e(n,r)})))),t.traversal_info.paths_to_sink},t=0;return o.each(this.getSources(),(function(r){o.each(this.getTargets(),(function(n){this.clearTraversalInfo(),t+=e(r,n)}),this)}),this),t},sourceConnectedToTarget:function(){if(!this.getSource()||!this.getTarget())return!1;if(0==arguments.length)return this.sourceConnectedToTarget(this.getSource(),this.getTarget());if(1==arguments.length){var e=arguments[0];return this.clearTraversalInfo(),o.each(e,(function(e){this.getVertex(e)&&(this.getVertex(e).traversal_info.visited=!0)}),this),this.sourceConnectedToTarget(this.getSource(),this.getTarget())}var t=arguments[0],r=arguments[1];return t.traversal_info||this.clearTraversalInfo(),t==r||(t.traversal_info.visited=!0,!!t.getChildren().any((function(e){return!e.traversal_info.visited&&!e.traversal_info.adjusted_for&&this.sourceConnectedToTarget(e,r)}),this)||(t.traversal_info.visited=!1,!1))}});a=s,o.each(a.prototype.managed_vertex_property_names,(function(e){var t=e.substring(0,1).toUpperCase()+e.substring(1,e.length);a.prototype["is"+t]=function(t){return this.vertexHasProperty(t,e)},a.prototype["add"+t]=function(t){return this.addVertexProperty(t,e)},a.prototype["remove"+t]=function(t){return this.removeVertexProperty(t,e)},a.prototype["get"+t+"s"]=function(){return this.getVerticesWithProperty(e)},a.prototype["set"+t+"s"]=function(t){this.removePropertyFromAllVertices(e),o.each(t,(function(t){this.addVertexProperty(t,e)}),this)},a.prototype["removeAll"+t+"s"]=function(){return this.removePropertyFromAllVertices(e)}})),s.Vertex=n.extend({init:function(e){this.id=e.id,this.weight=void 0!==e.weight?e.weight:1,void 0!==e.layout_pos_x&&(this.layout_pos_x=e.layout_pos_x,this.layout_pos_y=e.layout_pos_y),this.incomingEdges=[],this.outgoingEdges=[],this.traversal_info={}},getKinship:function(e,t){var r=[],n=this;return 1==arguments.length&&(t=!0),(t||s.Edgetype.Symmetric[e])&&o.each(n.outgoingEdges,(function(t){t.directed==e&&r.push(t.v1===n?t.v2:t.v1)})),t&&!s.Edgetype.Symmetric[e]||o.each(n.incomingEdges,(function(t){t.directed==e&&r.push(t.v1===n?t.v2:t.v1)})),r},getChildrenAndNeighbours:function(){return this.getNeighbours().concat(this.getChildren())},getParentsAndNeighbours:function(){return this.getNeighbours().concat(this.getParents())},getPossibleParentsAndPossibleNeighbours:function(){return this.getPossibleNeighbours().concat(this.getPossibleParents())},getPossibleNeighbours:function(){return this.getKinship(s.Edgetype.Undirected).concat(this.getKinship(s.Edgetype.Unspecified))},getNeighbours:function(){return this.getKinship(s.Edgetype.Undirected)},getSpouses:function(){return this.getKinship(s.Edgetype.Bidirected)},getChildren:function(){return this.getKinship(s.Edgetype.Directed)},getParents:function(){return this.getKinship(s.Edgetype.Directed,!1)},getPossibleParents:function(){return this.getKinship(s.Edgetype.Directed,!1).concat(this.getKinship(s.Edgetype.PartDirected,!1))},getAdjacentNodes:function(){return this.getChildrenAndNeighbours().concat(this.getParents()).concat(this.getSpouses())},degree:function(){if(!(arguments.length>=1))return this.getAdjacentNodes().length;switch(arguments[0]){case s.Edgetype.Bidirected:return this.getSpouses().length;case s.Edgetype.Undirected:return this.getNeighbours().length;case s.Edgetype.Directed:return this.getChildren().length+this.getParents().length}},cloneWithoutEdges:function(){return new s.Vertex(this)}}),s.Vertex.isVisited=function(e){return e.traversal_info.visited},s.Vertex.markAsVisited=function(e){e.traversal_info.visited=!0},s.Vertex.markAsNotVisited=function(e){e.traversal_info.visited=!1},s.Edge=n.extend({init:function(e){this.v1=e.v1,this.v2=e.v2,this.directed=e.directed,this.style=e.style,this.layout_pos_x=e.layout_pos_x,this.layout_pos_y=e.layout_pos_y}}),s.Edgetype={Undirected:0,Directed:1,Bidirected:2,Unspecified:3,PartDirected:4,PartUndirected:5,Symmetric:{0:!0,1:!1,2:!0,3:!0,4:!1,5:!1},Symbol:{0:"--",1:"->",2:"<->",3:"@-@",4:"@->",5:"@--"}},s.Edge.Bidirected=s.Edge.extend({init:function(e){this._super(e),this.directed=s.Edgetype.Bidirected}}),s.Edge.Directed=s.Edge.extend({init:function(e){this._super(e),this.directed=s.Edgetype.Directed}}),s.Edge.Undirected=s.Edge.extend({init:function(e){this._super(e),this.directed=s.Edgetype.Undirected}}),e.exports=s;const d=r(862);s.Edge.prototype.toString=function(){var e=s.Edgetype.Symbol[this.directed],t=d.dotQuoteVid(this.v1.id),r=d.dotQuoteVid(this.v2.id);if(s.Edgetype.Symmetric[this.directed]&&t>r){var n=t;t=r,r=n}return t+" "+e+" "+r}},326:(e,t,r)=>{const n=r(341),o=r(264),{MPoly:a,MPolyHelper:s}=r(810),d=r(50),u={equals:function(e,t){if(null==e)return null==t;if(null==t)return!1;var r,i=e.getVertexIDs(),o=t.getVertexIDs();if(i.length!=o.length)return!1;for(i=i.sort(),o=o.sort(),r=0;r<i.length;r++)if(i[r]!=o[r])return!1;var a=e.getEdges(),s=t.getEdges();if(a.length!=s.length)return!1;var d=[],u=[],c=function(e){var t;n.Edgetype.Symmetric[e[2]]&&e[0]<e[1]&&(t=e[1],e[1]=e[0],e[0]=t)};for(r=0;r<a.length;r++)d[r]=[a[r].v1.id,a[r].v2.id,a[r].directed],c(d[r]),u[r]=[s[r].v1.id,s[r].v2.id,s[r].directed],c(u[r]);var g=function(e,t){for(var r=0;r<=2;r++)if(e[r]!=t[r])return e[r]<t[r]?-1:1;return 0};for(d=d.sort(g),u=u.sort(g),r=0;r<d.length;r++)if(0!=g(d[r],u[r]))return!1;return!0},minVertexCut:function(e,t,r){var n,i,o,a,s,u,c,g=[];for(t||(t=e.getSources()),r||(r=e.getTargets()),n=0;n<t.length;n++)for(u=t[n],i=0;i<r.length;i++){if(c=r[i],u.id==c.id||e.getEdge(u.id,c.id))return;g[c.id]=!0}var l=[],f=[],h=[];for(o=e.getVertices(),n=0;n<o.length;n++)f[o[n].id]=0,void 0===l[o[n].id]&&(l[o[n].id]=[]);for(a=e.getEdges(),n=0;n<a.length;n++)s=a[n],l[s.v1.id][s.v2.id]=0;var p,v=function(t){var r,n,i,o=0,a=[];for(r=0;r<t.length;r++)a[r]=1;var s=[{},{}];for(r=0;r<t.length;r++)s[1][t[r]]=-1;function d(e,r){void 0===s[r?1:0][e.id]&&(t.push(e.id),a.push(r?1:0),s[r?1:0][e.id]=o)}for(;o<t.length;){if(p=t[o],i=a[o],g[p]&&i){var u=c.id,v=a[o];for(h=[u];s[v][t[o]]>=0;)h.unshift(v),o=s[v][t[o]],v=a[o],h.unshift(t[o]);return!0}if(f[p])if(i)for(n=e.getVertex(p).getParents(),r=0;r<n.length;r++)l[n[r].id][p]&&d(n[r],!1);else for(n=e.getVertex(p).getChildren(),r=0;r<n.length;r++)d(n[r],!0);else for(n=e.getVertex(p).getChildren(),r=0;r<n.length;r++)d(n[r],!0);o++}return!1},y=e.getVertices().length;for(n=0;v(d.pluck(t,"id"))&&--y>0;){for(n++,i=2;i<h.length-1;i+=2)h[i-1]&&h[i+1]&&(f[h[i]]=1),h[i-1]||h[i+1]||(f[h[i]]=0);for(i=1;i<h.length;i+=2)h[i]?l[h[i-1]][h[i+1]]++:l[h[i+1]][h[i-1]]--;h=[]}return n},isAdjustmentSetDirectEffect:function(e,t){var r=e.getType();if("dag"!=r)throw"Cannot compute adjustment sets for direct effects for graph of type "+r;if(e.getSelectedNodes().length>0)throw"Cannot compute adjustment sets for direct effects when there are selection nodes!";null==t&&(t=e.getAdjustedNodes());var i=c.indirectGraph(e);return!this.dConnected(i,i.getSources(),i.getTargets(),d.map(t,n.getVertex,i))},isAdjustmentSetCausalOddsRatio:function(e,t,r){var i=e.getType();if("dag"!=i)throw"Cannot compute adjustment sets for direct effects for graph of type "+i;if(1!=e.getSources().length||1!=e.getTargets().length)return null;if(t=null==t?e.getAdjustedNodes():d.map(t,n.getVertex,e),1!=(r=null==r?e.getSelectedNodes():d.map(r,n.getVertex,e)).length)return null;var o=!this.dConnected(e,e.getSources(),r,e.getTargets().concat(t));return o&&(o=o&&this.isAdjustmentSet(e,t,[])),o},listMsasTotalEffect:function(e,t,r,o){var a=e.getType();if("dag"!=a&&"pdag"!=a&&"mag"!=a&&"pag"!=a)throw"Cannot compute total affect adjustment sets for graph of type "+a;if(!e||e.getSources().length<1||e.getTargets().length<1)return[];var s=e;if("pdag"==a&&(s=c.cgToRcg(e)),t&&d.each(t,(function(e){s.addAdjustedNode(e)})),r&&d.each(r,(function(e){s.addLatentNode(e)})),u.violatesAdjustmentCriterion(s))return[];var g=c.backDoorGraph(s),l=s.getSelectedNodes();if(l.length>0){if(this.dConnected(g,g.getTargets(),d.map(l,n.getVertex,g)))return[];d.each(l,(function(e){g.removeSelectedNode(e),g.addAdjustedNode(e)}))}var f=c.moralGraph(c.ancestorGraph(g)),h=d.map(s.getAdjustedNodes(),n.getVertex,f),p=d.map(s.getLatentNodes().concat(this.dpcp(s)),n.getVertex,f),v=this.listMinimalSeparators(f,h,d.compact(p),o);for(l=d.map(l,n.getVertex,e),i=0;i<v.length;i++)v[i]=d.map(v[i],n.getVertex,e),v[i]=d.difference(v[i],l);return v},canonicalAdjustmentSet:function(e){var t=d.difference(e.anteriorsOf(d.union(e.getSources(),e.getTargets())),d.union(e.getLatentNodes(),e.getSources(),e.getTargets(),u.dpcp(e)));return u.isAdjustmentSet(e,t)?[t]:[]},listMsasDirectEffect:function(e,t,r){var n=e.getType();if("dag"!=n)throw"Cannot comute direct-effect adjustment sets for graphs of type "+n;if("pdag"==n&&(e=c.cgToRcg(e)),!e)return[];var i=e.getAdjustedNodes(),o=e.descendantsOf(d.intersection(e.descendantsOf(e.getSources()),e.getTargets()));if(d.intersection(o,i).length>0)return[];var a=e.getLatentNodes().concat(o),s=c.moralGraph(c.ancestorGraph(c.indirectGraph(e)));return t&&(i=i.concat(t)),r&&(a=a.concat(r)),this.listMinimalSeparators(s,i,a)},listDseparators:function(e,t,r,n){var i=e.getAdjustedNodes(),o=e.getLatentNodes(),a=c.moralGraph(c.ancestorGraph(e));return t&&(i=i.concat(t)),r&&(o=o.concat(r)),this.listMinimalSeparators(a,i,o,n)},findMinimalSeparator:function(e,t,r,n,i){t||(t=e.getSources()),r||(r=e.getTargets()),n||(n=[]),i||(i=[]);var o=e.anteriorsOf(d.union(t,r,n));function a(t,r,i){var a=u.closeSeparator(e,t,r,o,i);return!1===a?a:d.union(d.intersection(i,a),n)}var s=a(t,r,d.difference(o,t,r,i,e.getLatentNodes()));return!1===s?s:a(r,t,s)},listBasisImplications:function(e){var t=[],r=e.vertices.values();return d.each(r,(function(n){var i=d.difference(r,e.descendantsOf([n])),o=e.parentsOf([n]),a=d.difference(i,o);a.length>0&&t.push([n.id,d.pluck(a,"id"),[o]])})),t},listMinimalImplications:function(e,t){var r=[],n=e.clone(),i=n.vertices.values();n.removeAllAdjustedNodes();var o,a=0;for(o=0;o<i.length;o++)for(var s=o+1;s<i.length;s++)if(!(n.isLatentNode(i[o])||n.isLatentNode(i[s])||n.getEdge(i[o].id,i[s].id)||n.getEdge(i[s].id,i[o].id))){n.removeAllSources().addSource(n.getVertex(i[o].id)),n.removeAllTargets().addTarget(n.getVertex(i[s].id));var c=u.listDseparators(n,[],[],t-a);if(c.length>0&&(c=d.map(c,(function(t){return e.getVertex(d.pluck(t,"id"))})),r.push([i[o].id,i[s].id,c]),(a+=c.length)>=t))return r}return r},isDG:function(e){var t,r,i=c.dependencyGraph2CPDAG(e);return!!e.edges.all((function(e){return!(void 0===i.getEdge(e.v1.id,e.v2.id,n.Edgetype.Undirected)&&(t=i.getVertex(e.v1.id).getParents().pluck("id"),r=i.getVertex(e.v2.id).getParents().pluck("id"),!t.include(e.v2.id)&&!r.include(e.v1.id)&&0==t.intersect(r).length))}))&&i},listPathPairs:function(e){var t=e.listPaths().split("\n"),r="";return d.each(t,(function(e){if("..."==e)r+="\n...";else{var t=e.split("->").slice(1).map((function(e){return e.split(":")})),n=d.uniq(d.pluck(t,"0")).slice(1).join("->"),i=d.uniq(d.pluck(t,"1")).reverse().join("<-");r+=(""==r?"":"\n")+i+"->"+n}})),r},directEffectEqualsTotalEffect:function(e){return 0==d.chain(e.childrenOf(e.getSources())).difference(e.getSources()).difference(e.getTargets()).value().length},violatesAdjustmentCriterion:function(e){return d.some(this.dpcp(e),e.isAdjustedNode,e)},properPossibleCausalPaths:function(e,t,r){var n,i=[],o={},a=[];for(1==arguments.length&&(t=e.getSources(),r=e.getTargets()),n=0;n<t.length;n++)i[t[n].id]=1;var s=function(e){if(!o[e.id]&&(o[e.id]=!0,a.push(e),!i[e.id])){var t=e.getParents();t=d.union(t,e.getNeighbours()),d.each(t,s)}};return d.each(r,s),d.intersection(a,e.posteriorsOf(t))},dpcp:function(e,t,r){var n;return arguments.length<2&&(t=e.getSources()),arguments.length<3&&(r=e.getTargets()),"pag"==e.getType()?(n=c.pagToPdag(e)).setType("pag"):n=e,t=n.getVertex(d.pluck(t,"id")),r=n.getVertex(d.pluck(r,"id")),e.getVertex(d.pluck(n.posteriorsOf(d.difference(this.properPossibleCausalPaths(n,t,r),t)),"id"))},nodesThatViolateAdjustmentCriterion:function(e){return d.intersection(this.dpcp(e),e.getAdjustedNodes())},nodesThatViolateAdjustmentCriterionWithoutIntermediates:function(e){var t=[];return d.each(this.properPossibleCausalPaths(e),(function(e){t[e.id]=!0})),d.filter(this.dpcp(e),(function(r){return e.isAdjustedNode(r)&&!t[r.id]}))},intermediates:function(e){return d.chain(e.descendantsOf(e.getSources())).intersection(e.ancestorsOf(e.getTargets())).difference(e.getSources()).difference(e.getTargets()).value()},listPaths:function(e,t,r,i,o){var a,s,u=[];if(arguments.length<2&&(t=!0),arguments.length<3&&(r=100),arguments.length<5&&(i=e.getSources(),o=e.getTargets()),0==i.length||0==o.length)return"";a=e.clone(!1),s={};var c=function(e,t,r,i,o){var u=[];d.each(e[r](),(function(r){s[r.id]||(u=o?[r.id,e.id]:[e.id,r.id],s[r.id]=1,a.addEdge(u[0],u[1],n.Edgetype[i]),g(r,t),a.deleteEdge(u[0],u[1],n.Edgetype[i]),s[r.id]=0)}))},g=function(e,n){u.length>=r||(e==n?u.push(a.clone()):(c(e,n,"getChildren","Directed",!1),t||(c(e,n,"getParents","Directed",!0),c(e,n,"getNeighbours","Undirected",!1),c(e,n,"getSpouses","Bidirected",!1))))};return d.each(i,(function(e){d.each(o,(function(t){try{s[e.id]=1,g(e,t),s[e.id]=0}catch(e){return u}}))})),u},visitGraph:function(e,t,r,i){d.isArray(t)||(t=[t]),r||(r=function(){return!0}),i||(i=function(){return!1});var o,a,s=[],u=t,c={},g={};function l(e){var t=e.v1==o,i=t?e.v2:e.v1;r(e,t,a)&&(e.directed==n.Edgetype.Directed&&t||e.directed==n.Edgetype.Bidirected?function(e){c[e.id]||(s.push(e),c[e.id]=!0)}(i):function(e){g[e.id]||(u.push(e),g[e.id]=!0)}(i))}for(;s.length>0||u.length>0;){if(a=s.length>0,!i(o=a?s.pop():u.pop()))return!0;d.each(o.incomingEdges,l),d.each(o.outgoingEdges,l)}return!1},closeSeparator:function(e,t,r,i,o){d.isArray(t)||(t=[t]),d.isArray(r)||(r=[r]),i||(i=e.anteriorsOf(t.concat(r)));var a={};d.each(i,(function(e){a[e.id]=!0}));var s,c={};if(d.each(r,(function(e){c[e.id]=!0})),o){var g={};d.each(o,(function(e){g[e.id]=!0})),d.each(t,(function(e){g[e.id]=!1})),s=function(e){return g[e.id]}}else{var l={};d.each(t,(function(e){l[e.id]=!0})),s=function(t){return!l[t.id]&&!e.isLatentNode(t)}}var f=[],h=!1;return!u.visitGraph(e,t,(function(e,t,r){var i=t?e.v2:e.v1;if(!a[i.id])return!1;var o=e.directed==n.Edgetype.Directed&&!t||e.directed==n.Edgetype.Bidirected;return!h||r&&o}),(function(e){return!c[e.id]&&((h=s(e))&&f.push(e),!0)}))&&f},dConnected:function(e,t,r,n,i){var o=e;if("pag"==e.getType()&&(e=c.pagToPdag(e)),0==t.length&&0==r.length)return[];t=d.map(t,e.getVertex,e),r=d.map(r,e.getVertex,e),n=void 0===n?[]:d.map(n,e.getVertex,e),i=void 0===i?e.ancestorsOf(n):d.map(i,e.getVertex,e);var a,s,u,g=[],l=[],f={},h={},p={},v={},y={};for(a=0;a<t.length;a++)l.push(t[a]);for(a=0;a<r.length;a++)p[r[a].id]=1;for(a=0;a<i.length;a++)y[i[a].id]=1;for(a=0;a<n.length;a++)v[n[a].id]=1;for(;g.length+l.length>0;){if(g.length>0){if(f[(s=g.pop()).id]=1,p[s.id])return!0;if(y[s.id]){for(u=s.getParents(),a=0;a<u.length;a++)h[u[a].id]||l.push(u[a]);for(u=s.getSpouses(),a=0;a<u.length;a++)f[u[a].id]||g.push(u[a])}if(!v[s.id])for(u=d.union(s.getChildren(),s.getNeighbours()),a=0;a<u.length;a++)f[u[a].id]||g.push(u[a])}if(l.length>0){if(h[(s=l.pop()).id]=1,p[s.id])return!0;if(v[s.id])continue;for(u=d.union(s.getChildren(),s.getSpouses()),a=0;a<u.length;a++)f[u[a].id]||g.push(u[a]);for(u=d.union(s.getParents(),s.getNeighbours()),a=0;a<u.length;a++)h[u[a].id]||l.push(u[a])}}return!(r.length>0)&&o.getVertex(d.union(Object.keys(f),Object.keys(h)))},ancestralInstrument:function(e,t,r,n,i,o){arguments.length<5&&(i=c.backDoorGraph(e,[t],[r])),r=i.getVertex(r.id),n=i.getVertex(n.id),arguments.length<6&&(o=i.descendantsOf([r]));var a=u.findMinimalSeparator(i,[r],[n],[],[]);return!1!==a&&!(d.intersection(a,o).length>0)&&1!==d.intersection(a,[t]).length&&!!u.dConnected(i,[t],[n],a)&&a.map((function(t){return e.getVertex(t.id)}))},conditionalInstruments:function(e,t,r){if(arguments.length<2){if((t=e.getSources()).length>1)return!1;t=t[0]}if(arguments.length<3){if((r=e.getTargets()).length>1)return!1;r=r[0]}t=(e=c.canonicalDag(e).g).getVertex(t),r=e.getVertex(r);var n,i,o=d.difference(e.getVertices(),[t,r]),a=[],s=c.backDoorGraph(e,[t],[r]),g=u.intermediates(e);for(n=0;n<g.length;n++)s.addLatentNode(s.getVertex(g[n].id));var l=s.descendantsOf([s.getVertex(r)]);for(n=0;n<o.length;n++){var f=o[n];e.isLatentNode(f)||e.isSelectedNode(f)||!1!==(i=u.ancestralInstrument(e,t,r,f,s,l))&&a.push([f,i])}return a},listMinimalSeparators:function(e,t,r,i){if(0==e.getSources().length||0==e.getTargets().length)return[];var a=new o;d.each(e.getTargets(),(function(e){a.set(e.id,e)})),d.each(e.neighboursOf(e.getTargets()),(function(e){a.set(e.id,e)}));var s=a.values(),c=[],g=[];t&&d.each(t,(function(t){g.push(e.getVertex(t.id))}));var l=[];r&&d.each(r,(function(t){l.push(e.getVertex(t.id))}));var f=function(t){e.clearVisited(),d.each(t.concat(g),(function(e){n.Vertex.markAsVisited(e)}));for(var r=[],i=t.slice(),o=function(e){n.Vertex.isVisited(e)||(n.Vertex.markAsVisited(e),d.contains(l,e)?i.push(e):r.push(e))};i.length>0;)d.each(i.pop().getNeighbours(),o);return r},h=function(t,r){if(!(c.length>=i)){var n=function(t,r){var n=f(t),i=u.connectedComponentAvoiding(e,r,n.concat(g));return f(i)}(t,e.getTargets()),o=u.connectedComponentAvoiding(e,e.getSources(),n.concat(g));if(0==d.intersection(o,r).length){var a=f(o);if((a=d.difference(a,r)).length>0){var s=a[0];o.push(s),h(o,r),o.pop(),r.push(s),h(o,r),r.pop()}else c.push(n.concat(g))}}};return h(e.getSources(),s),c},topologicalOrdering:function(e){var t,r={i:e.vertices.size()},n={},i={},o=function(t){if(!i[t.id]){i[t.id]=!0;var a=t.getChildren();if(e.isSource(t)||e.isTarget(t)||a.length>0||t.getParents().length>0){for(var s=0;s<a.length;s++)o(a[s]);n[t.id]=r.i,r.i--}}},a=e.vertices.values();for(t=0;t<a.length;t++)n[a[t].id]=0;for(t=0;t<a.length;t++)o(a[t]);return n},bottleneckNumbers:function(e,t){var r=e.getSources()[0],i=e.getTargets()[0],o={},a={},s={},u={};d.each(e.ancestorsOf(e.getSources(),(function(){var t=e.getAdjustedNodes();e.clearTraversalInfo(),d.each(t,(function(e){n.Vertex.markAsVisited(e)}))})),(function(e){a[e.id]=!0})),d.each(e.ancestorsOf(e.getTargets(),(function(){var t=e.getAdjustedNodes();e.clearTraversalInfo(),d.each(t,(function(e){n.Vertex.markAsVisited(e)}))})),(function(e){s[e.id]=!0}));var c=e.vertices.values(),g=t[r.id],l=t[i.id];d.each(c,(function(e){a[e.id]&&!s[e.id]?o[e.id]=g:!a[e.id]&&s[e.id]?o[e.id]=l:o[e.id]=void 0})),d.each(e.getSources(),(function(e){t[e.id]=g,o[e.id]=g,u[e.id]=!0})),d.each(e.getTargets(),(function(e){o[e.id]=l,t[e.id]=l,u[e.id]=!0}));var f=function(e){if(!u[e.id]&&(a[e.id]||s[e.id])){u[e.id]=!0;var r=d.filter(e.getChildren(),(function(e){return a[e.id]||s[e.id]}));d.each(r,f),r.length>1&&d.some(r,(function(e){return o[e.id]!=o[r[0].id]}))?o[e.id]=t[e.id]:o[e.id]=o[r[0].id]}};return d.each(c,f),o},connectedComponents:function(e,t){null==t&&(t="getNeighbours");var r={},n=e.vertices.values(),i=[];return d.each(n,(function(e){r[e.id]||i.push(function(e){for(var n=[e],i=[e];n.length>0;){var o=n.pop();r[o.id]=!0,d.each(o[t](),(function(e){r[e.id]||(n.push(e),i.push(e),r[e.id]=!0)}))}return i}(e))})),i},connectedComponentAvoiding:function(e,t,r){var n={},i=[],o=[];r instanceof Array&&d.each(r,(function(e){n[e.id]=1})),d.each(t,(function(e){n[e.id]=1,o.push(e),i.push(e)}));for(var a=function(e){n[e.id]||(n[e.id]=1,i.push(e),o.push(e))};i.length>0;)d.each(i.pop().getNeighbours(),a);return o},blockTree:function(e,t){null==t&&(t=this.biconnectedComponents(e));var r=new n;return d.each(t,(function(e){r.addVertex(new n.Vertex({id:"C"+e[0].component_index}))})),d.each(e.vertices.values(),(function(t){if(t.is_articulation_point){r.addVertex(new n.Vertex({id:"A"+t.id}));var i=r.getVertex("A"+t.id);i.is_articulation_point=!0,d.each(t.getNeighbours(),(function(o){var a=e.getEdge(t,o,n.Edgetype.Undirected);r.addEdge(i,r.getVertex("C"+a.component_index),n.Edgetype.Undirected)}))}})),r},biconnectedComponents:function(e){var t=[],r=[],i=0,o=e.vertices.values();d.each(o,(function(e){e.traversal_info.parent=0,e.traversal_info.dtime=0,e.traversal_info.lowlink=o.length+1}));var a=0,s=function(o){o.traversal_info.dtime=++i,o.traversal_info.lowlink=i;var u=0;d.each(o.getNeighbours(),(function(i){var d=e.getEdge(o,i,n.Edgetype.Undirected),c=d.v1==o?d.v2:d.v1;if(0==c.traversal_info.dtime)if(t.push(d),c.traversal_info.parent=o,1==o.traversal_info.dtime&&u++,s(c),c.traversal_info.lowlink>=o.traversal_info.dtime){o.traversal_info.dtime>1&&(o.is_articulation_point=!0),a++;var g=[];do{var l=t.pop();l.component_index=a,g.push(l)}while(l!=d);r.push(g)}else c.traversal_info.lowlink<o.traversal_info.lowlink&&(o.traversal_info.lowlink=c.traversal_info.lowlink);else c.traversal_info.dtime<o.traversal_info.dtime&&c!=o.traversal_info.parent&&(t.push(d),c.traversal_info.dtime<o.traversal_info.lowlink&&(o.traversal_info.lowlink=c.traversal_info.dtime))})),u>1&&(o.is_articulation_point=!0)};return d.each(o,(function(e){0==e.traversal_info.dtime&&s(e)})),r},lexicographicBreadthFirstSearch:function(e,t){t=t?t.concat():e.getVertices();var r=new o;d.each(t,(function(e){r.set(e.id,e)}));var n={next:null,prev:null,prevIteration:0,set:r,setKeys:t.map((function(e){return e.id})),setKeyIndex:0,id:0},i=new o;d.each(t,(function(e){i.set(e.id,n)}));for(var a=0,s=[];n;){for(;n.setKeyIndex<n.setKeys.length&&!n.set.contains(n.setKeys[n.setKeyIndex]);)n.setKeyIndex++;if(n.setKeyIndex>=n.setKeys.length)(n=n.next)&&(n.prev=null);else{var u=n.set.get(n.setKeys[n.setKeyIndex]);s.push(u),n.setKeyIndex++,a++,n.set.unset(u.id),i.unset(u.id),d.each(u.getNeighbours(),(function(e){var t,r=i.get(e.id);r&&(r.prevIteration!=a&&(t={next:r,prev:r.prev,prevIteration:a,set:new o,setKeys:[],setKeyIndex:0},r.prevIteration=a,r.prev?r.prev.next=t:n=t,r.prev=t),(t=r.prev).setKeys.push(e.id),t.set.set(e.id,e),r.set.unset(e.id),i.set(e.id,t))}))}}return s},isChordal:function(e,t){var r=u.lexicographicBreadthFirstSearch(e,t),n=new o;return d.each(r,(function(e,t){n.set(e.id,t)})),d.every(r,(function(e,t){var i=d.max(d.map(e.getNeighbours(),(function(e){var r=n.get(e.id);return r<t?r:-1})));if(i<0)return!0;var a=r[i],s=new o;return d.each(a.getNeighbours(),(function(e){n.get(e.id)<i&&s.set(e.id,!0)})),d.every(e.getNeighbours(),(function(e){return n.get(e.id)>=i||s.get(e.id)}))}))},validate:function(e){switch(e.getType()){case"dag":return!!d.every(e.getEdges(),(function(e){return e.directed==n.Edgetype.Directed||e.directed==n.Edgetype.Bidirected}))&&!u.containsCycle(e);case"mag":return!!d.every(e.getEdges(),(function(e){return e.directed==n.Edgetype.Directed||e.directed==n.Edgetype.Bidirected||e.directed==n.Edgetype.Undirected}))&&!u.containsSemiCycle(e);case"pag":return!u.containsSemiCycle(e);case"graph":return d.every(e.getEdges(),(function(e){return e.directed==n.Edgetype.Undirected}));case"digraph":return!0;case"pdag":return!!d.every(e.getEdges(),(function(e){return e.directed==n.Edgetype.Directed||e.directed==n.Edgetype.Undirected||e.directed==n.Edgetype.Bidirected}))&&!u.containsSemiCycle(e);default:throw"Do not know how to validate graph of type "+e.getType()}},containsCycle:function(e){for(var t=e.vertices.values(),r=0;r<t.length;r++){var n=t[r];e.clearVisited();var i=this.searchCycleFrom(n);if(void 0!==i){for(var o=[],a=0;a<i.length;a++)o[i[a]]?o[i[a]]++:o[i[a]]=1;for(a=0;a<i.length;a++)if(o[i[a]]>1)return i.slice(i.indexOf(i[a]),i.lastIndexOf(i[a])+1).join("&rarr;")}}return!1},searchCycleFrom:function(e,t){if(void 0===t&&(t=[]),n.Vertex.isVisited(e))return t.concat(e.id);n.Vertex.markAsVisited(e);for(var r=e.getChildren(),i=0;i<r.length;i++){var o=this.searchCycleFrom(r[i],t.concat(e.id));if(void 0!==o)return o}n.Vertex.markAsNotVisited(e)},containsSemiCycle:function(e){return u.containsCycle(c.contractComponents(e,u.connectedComponents(e),[n.Edgetype.Directed]))},isEdgeStronglyProtected:function(e,t){for(var r=t.v1,i=t.v2,o=r.getParents(),a=0;a<o.length;a++)if(o[a].id!=i.id&&!e.areAdjacent(o[a],i))return!0;var s=i.getParents();for(a=0;a<s.length;a++)if(s[a].id!=r.id&&(!e.areAdjacent(s[a],r)||e.getEdge(r,s[a],n.Edgetype.Directed)))return!0;for(a=0;a<s.length;a++)for(var d=0;d<s.length;d++)if(a!=d&&s[a].id!=r.id&&s[d].id!=r.id&&!e.areAdjacent(s[a],s[d])&&e.getEdge(s[a],r,n.Edgetype.Undirected)&&e.getEdge(s[d],r,n.Edgetype.Undirected))return!0;return!1},isEdgeVisible:function(e,t){var r=e.getType();if("dag"==r||"pdag"==r||"digraph"==r)return!0;if(t.directed==n.Edgetype.Directed){if("pag"!=r&&"mag"!=r)throw"Cannot test edge visibility for graph of type : "+r;if(d.difference(d.union(t.v1.getParents(),t.v1.getSpouses()),t.v2.getAdjacentNodes()).length>0)return!0;var i=c.inducedSubgraph(e,d.union([t.v2],t.v2.getParents()));return i=e.getVertex(d.pluck(i.districtOf([i.getVertex(t.v1.id)]),"id")),d.difference(d.union(e.parentsOf(i),e.spousesOf(i)),t.v2.getAdjacentNodes()).length>0}},graphToAdjacencyMatrix:function(e,t,r){return d.map(t,(function(n){return d.map(t,(function(t){return!!e.getEdge(n,t,r)}))}))},enumerateTreks:function(e,t,r){var i=[],o={};function a(e,t){e!==r?d.each(e.outgoingEdges,(function(r){var i=r.v1===e?r.v2:r.v1;o[i.id]||r.directed!=n.Edgetype.Directed||(o[i.id]=!0,t.push(r),a(i,t),t.pop(),o[i.id]=!1)})):i.push(t.slice())}var s={};return function e(t,r){r.push(t),a(t,r),r.pop(),d.each(t.incomingEdges,(function(i){var o=i.v1===t?i.v2:i.v1;r.push(i),i.directed==n.Edgetype.Bidirected?a(o,r):i.directed!=n.Edgetype.Directed||s[o.id]||(s[o.id]=!0,e(o,r),s[o.id]=!1),r.pop()})),d.each(t.outgoingEdges,(function(e){var i=e.v1===t?e.v2:e.v1;e.directed==n.Edgetype.Bidirected&&(r.push(e),a(i,r),r.pop())}))}(t,[]),i},treeID:function(e){if(e.getEdges().find((function(e){return e.directed!=n.Edgetype.Directed&&e.directed!=n.Edgetype.Bidirected})))return!1;var t,r=e.getNumberOfVertices(),i=u.topologicalOrdering(e),o=new Array(r);function c(e){return i[e.id]-1}d.each(i,(function(t,r){t<1||(o[t-1]=e.getVertex(r))}));var g=d.map(o,(function(e){return e?e.getParents():null})),l=o,f=[];o=[],d.each(l,(function(e,t){var r=g[t];r&&(1==r.length||0==r.length&&e.getChildren().length>0)&&(f.push(r),o.push(e))}));var h=o.length!=r;h&&(r=o.length,d.each(o,(function(e,t){i[e.id]=t+1}))),f=d.map(f,(function(e){return 0==e.length?null:c(e[0])}));var p=this.graphToAdjacencyMatrix(e,o,n.Edgetype.Directed),v=this.graphToAdjacencyMatrix(e,o,n.Edgetype.Bidirected),y=d.map(v,(function(e,t){return d.filter(d.map(e,(function(e,r){return e||t==r?-1:r})),(function(e){return e>=0}))})),m=d.map(o,(function(e,t){return d.map(o,(function(e,r){return a("s"+Math.min(t,r)+"_"+Math.max(t,r))}))})),x=d.map(o,(function(e,t){return d.map(o,(function(e,r){return p[t][r]?a("l"+t+"_"+r):null}))})),E=d.map(o,(function(e,t){return d.map(o,(function(e,r){return t==r||v[t][r]?a("w"+Math.min(t,r)+"_"+Math.max(t,r)):null}))})),V=a.zero,_=a.one,b=a.minusOne,A=a.mul,S=a.add,T=d.map(new Array(r),(function(e,t){return new Array(r)})),w={};for(B=0;B<r;B++)for(t=B;t<r;t++){var k=u.enumerateTreks(e,o[B],o[t]),C=d.map(k,(function(e){return d.map(e,(function(e){return e instanceof n.Vertex?E[c(e)][c(e)]:e.directed==n.Edgetype.Bidirected?E[c(e.v1)][c(e.v2)]:x[c(e.v1)][c(e.v2)]}))})),N=d.map(C,(function(e){return d.reduce(e,(function(e,t){return e.mul(t)}))})),j=d.reduce(N,(function(e,t){return e.add(t)}));j||(j=a.zero),T[B][t]=T[t][B]=j,w[m[B][t]]=j}function O(e){var t,n,i=new Array(s.variableCount+1);for(t=0;t<i.length;t++)i[t]=BigInt(e(t));var o={};for(t=0;t<r;t++)for(n=t;n<r;n++)o[m[t][n].toString()]=T[t][n].evalToBigInt(i);return o}var P=function(e){for(var t=[2,3,5,7,11,13],r=17;t.length<e;){for(var n=!0,i=0;i<t.length;i++)if(r%t[i]==0){n=!1;break}n&&t.push(r),r+=2}return t}(3*(s.variableCount+1)+20),D=[O((function(){return Math.floor((1<<52)*Math.random())+1})),O((function(e){return P[3*e+20]}))],I={__proto__:Array,make:function(e,t,r,n,i){var o=[e,t,r,n,i];return o.__proto__=I,o},makeFraction:function(e,t){return this.make(e,null,t)},toString:function(){function e(e,t){return e?(e=e.toString(),t||(e=e.replace(/(s)([0-9]+)_([0-9]+)/g,(function(e,t,r,n){var i=o[r].id,a=o[n].id;return i>a&&(a=o[r].id,i=o[n].id),"Ïƒ"+i+a}))),"("+e+")"):"0"}return null==this[1]&&null==this[3]&&null==this[4]?e(this[0])+" /\n"+e(this[2]):"Let s = "+e(this[4])+": \n\n("+e(this[0])+" + "+e(this[1])+" * sqrt(s) )  /\n("+e(this[2])+" + "+e(this[3])+" * sqrt(s) ) "},p:function(){return this[0]},q:function(){return this[1]},r:function(){return this[2]},t:function(){return this[3]},s:function(){return this[4]}};function M(e){for(var t=0;t<D.length;t++)if(0!=e.evalToBigInt(D[t]))return!1;return e.eval(w).isZero()}var B,U=Array(r);function F(e){var t=f[e];d.each(y[e],(function(r){var n=f[r];if(!d.isNull(n)&&!(U[r]&&U[r].fastp.length<=U[e].fastp.length||d.find(U[e].fastp,(function(r){var i={};return i[x[t][e]]=a("0"),T[n][e].eval(i).isZero()})))){var i=d.map(U[e].fastp,(function(i){var o=m[t][r],a=m[e][r].negate(),s=m[t][n],d=m[e][n].negate();return I.make(i.r().mul(a).add(i.p().mul(o)),i.s()?i.t().mul(a).add(i.q().mul(o)):null,i.r().mul(d).add(i.p().mul(s)),i.s()?i.t().mul(d).add(i.q().mul(s)):null,i.s())}));U[r]={propagate:e,propagatePath:"propagate"in U[e]?U[e].propagatePath.concat([e]):[e],fastp:i,propagatedMissingCycles:"propagate"in U[e]?U[e].propagatedMissingCycles:U[e].missingCycles,oldMissingCycles:U[r]?U[r].missingCycles:null},F(r)}}))}for(var R=0;R<r;R++)if(d.isNull(f[R]))for(B=R+1;B<r;B++)v[R][B]||d.isNull(f[B])||T[R][f[B]].isZero()||(U[B]={instrument:R,fastp:[I.makeFraction(m[R][B],m[R][f[B]])]},F(B));function L(e){var t=e[0],r=e[1],n=e[2],i=r.sqr().sub(a("4").mul(t).mul(n)),o=t.add(t),s=r.negate();return M(i)?[I.makeFraction(s,o)]:[I.make(s,b,o,V,i),I.make(s,_,o,V,i)]}function G(e){var t=e[0],r=function(e){function t(e,t,r,n){return e.mul(t).sub(r.mul(n))}for(var r=e.length-1,n=d.map(new Array(r),(function(t,r){return function(e,t){var r=f[e],n=f[t];return[m[r][n],m[r][t].negate(),m[e][n].negate(),m[e][t]]}(e[r],e[r+1])}));r>2;){for(var i=Math.ceil(r/2),o=(Array(i),Array(i)),a=0,s=0;s+1<r;s+=2,a++)o[a]=[t(n[s][0],n[s+1][2],n[s+1][0],n[s][1]),t(n[s][0],n[s+1][3],n[s+1][1],n[s][1]),t(n[s][2],n[s+1][2],n[s+1][0],n[s][3]),t(n[s][2],n[s+1][3],n[s+1][1],n[s][3])];r%2==1&&(o[i-1]=n[r-1]),r=i,n=o}return 2==r&&(n[0]=[t(n[0][0],n[1][2],n[1][0],n[0][1]),t(n[0][0],n[1][3],n[1][0],n[0][3]),t(n[0][2],n[1][2],n[1][1],n[0][1]),t(n[0][2],n[1][3],n[1][1],n[0][3])]),[n[0][0],n[0][1].add(n[0][2]),n[0][3]]}(e),n=M(r[0]);if(!n||!M(r[1])){if(n)U[t]={missingCycles:[e.slice()],fastp:[I.makeFraction(r[2].negate(),r[1])]};else if(t in U){var i=d.filter(U[t].fastp,(function(e){return function(e,t){for(var r=0;r<D.length;r++){var n=t[0],i=t[1],o=t[2],a=e.p(),s=e.q(),d=e.r(),u=e.s(),c=e.t();if(!u)return M(S(A(n,a,a),A(i,a,d),A(o,d,d)));n=n.evalToBigInt(D[r]),i=i.evalToBigInt(D[r]),o=o.evalToBigInt(D[r]),a=a.evalToBigInt(D[r]),s=s.evalToBigInt(D[r]),d=d.evalToBigInt(D[r]);var g=n*a*a+n*s*s*(u=u.evalToBigInt(D[r]))+i*a*d+i*s*u*(c=c.evalToBigInt(D[r]))+o*d*d+o*c*c*u,l=-(2n*n*a*s+i*a*c+i*s*d+2n*o*d*c);if(g<0&&l>0)return!1;if(g>0&&l<0)return!1;if(0!=g&&0==l)return!1;if(0==g&&0!=l&&0!=u)return!1;if(g**2n!=l**2n*u)return!1}return!0}(e,r)}));if(0==i.length)throw"Inconsistent solutions";if(i.length==U[t].fastp.length)return;U[t].fastp=i,U[t].missingCycles?U[t].missingCycles=U[t].missingCycles.concat([e.slice()]):U[t].missingCycles=[e.slice()]}else U[t]={missingCycles:[e.slice()],fastp:L(r)};return 1==U[t].fastp.length}}var q,z,W=new Array(r);function K(e){var t=e[0],r=e[e.length-1];return d.find(y[r],(function(r){if(d.isNull(f[r]))return!1;if(W[r]){if(r==t&&e.length==q){if(e.push(r),G(e))return!0;e.pop()}return!1}return e.length>=q?(z=!0,!1):(W[r]=!0,e.push(r),!!K(e)||(e.pop(),void(W[r]=!1)))}))}for(q=3;q<r;q++){for(z=!1,allEdgesIdentified=!0,B=0;B<r;B++)if(!d.isNull(f[B])){var X=B in U?U[B].fastp.length:9999;if(1!=X){W[B]=!0,K([B]),W[B]=!1;var H=B in U?U[B].fastp.length:9999;H<X&&F(B),allEdgesIdentified=allEdgesIdentified&&1==H}}if(!z||allEdgesIdentified)break}function Y(e){return d.map(e,(function(e){return o[e].id}))}var $={};for(B=0;B<r;B++)if(B in U){var Q={fastp:U[B].fastp};"instrument"in U[B]&&(Q.instrument=o[U[B].instrument].id),"propagate"in U[B]&&(Q.propagate=o[U[B].propagate].id),"propagatePath"in U[B]&&(Q.propagatePath=Y(U[B].propagatePath)),d.map(["missingCycles","propagatedMissingCycles","oldMissingCycles"],(function(e){e in U[B]&&(Q[e]=d.map(U[B][e],Y))})),$[o[B].id]=[Q]}var Z={results:$};return h&&(Z.warnings=["Some nodes have more than one parent. TreeID assumes all nodes except one (the root) have exactly one parent, and ignores nodes with more parents."]),Z}};e.exports=u;const c=r(57);u.isAdjustmentSet=function(e,t,r){var i=e.getType();if("dag"!=i&&"pdag"!=i&&"mag"!=i&&"pag"!=i)throw"Cannot compute adjustment sets for graph of type "+i;if(0==e.getSources().length||0==e.getTargets().length)return!1;null==t&&(t=e.getAdjustedNodes()),null==r&&(r=e.getSelectedNodes());var o=d.map(t,n.getVertex,e);if(d.intersection(this.dpcp(e),o).length>0)return!1;var a=c.backDoorGraph(e),s=d.map(r,a.getVertex,a),u=d.map(o,a.getVertex,a),g=!this.dConnected(a,a.getSources(),a.getTargets(),u.concat(s));return r.length>0&&(g=g&&!this.dConnected(a,a.getTargets(),s)),g},u.trekRule=function(e,t,r,i,o){o=o?1:0;var a,s,u,g,l,f=[],h=e.getVertices(),p=e.getEdges(),v=[],y={};for(void 0===i&&(i=!1),a=0;a<h.length;a++)f[h[a].id]=i?h[a].id:a,o||v.push("v"+f[h[a].id]);var m=function(t,r){return t.id?t.id:t.attributes&&t.attributes.beta?t.attributes.beta:(u=e.getVertex(t.v1),g=e.getVertex(t.v2),"c"==r?u.id<g.id?r+f[u.id]+r+f[g.id]:r+f[g.id]+r+f[u.id]:r+f[u.id]+r+f[g.id])};for(a=0;a<p.length;a++){var x=p[a];x.directed==n.Edgetype.Bidirected?l=m(x,"c"):x.directed==n.Edgetype.Directed&&(l=m(x,"b")),y[l]||(parseFloat(l)!=l&&v.push(l),y[l]=!0)}var E=c.trekGraph(e,"up_","dw_"),V=[],_=function(e,t,r){e!=t?d.each(e.getChildren(),(function(i){if(!n.Vertex.isVisited(i)){n.Vertex.markAsVisited(i);var a=0;o&&"up_"==e.id.substr(0,3)&&"up_"==i.id.substr(0,3)&&(a=E.getVertex("dw_"+e.id.substr(3)),n.Vertex.markAsVisited(a)),r.push(i.id),_(i,t,r),n.Vertex.markAsNotVisited(i),a&&n.Vertex.markAsNotVisited(a),r.pop()}})):V.push(r.slice())};_(E.getVertex("up_"+t.id),E.getVertex("dw_"+r.id),["up_"+t.id]);var b=[];for(a=0;a<V.length;a++)for(b[a]=[],s=0;s<V[a].length-1;s++){var A=V[a][s].substring(0,3),S=V[a][s].substring(3),T=V[a][s+1].substring(0,3),w=V[a][s+1].substring(3);A==T?"up_"==A?b[a].push(m(e.getEdge(w,S,n.Edgetype.Directed),"b")):b[a].push(m(e.getEdge(S,w,n.Edgetype.Directed),"b")):S==w?o||b[a].push("v"+f[S]):b[a].push(m(e.getEdge(S,w,n.Edgetype.Bidirected),"c"))}return[b,v]},u.vanishingTetrads=function(e,t,r){var i=[];e=c.canonicalDag(e).g;var o=c.trekGraph(e,"up_","dw_");o.addVertex("s"),o.addVertex("t");for(var a=e.getLatentNodes(),s=[],g=0;g<a.length;g++)s[a[g].id]=1;var l,f,h,p,v,y,m,x,E,V,_=d.pluck(d.reject(e.getVertices(),(function(e){return s[e.id]})),"id"),b=o.getVertex("s"),A=o.getVertex("t");function S(t,a,s,c){var g,l;if(v=[o.getVertex("up_"+t),o.getVertex("up_"+a)],y=[o.getVertex("dw_"+s),o.getVertex("dw_"+c)],"between"==r||"epistemic"==r){if(g=d.pluck(e.parentsOf(e.getVertex([t,a])),"id"),l=d.pluck(e.parentsOf(e.getVertex([s,c])),"id"),"between"==r&&(1!=g.length||1!=l.length||g[0]==l[0]))return;if("epistemic"==r&&!(1==g.length&&2==l.length||2==g.length&&1==l.length))return}o.addEdge(b,v[0],n.Edgetype.Directed),o.addEdge(b,v[1],n.Edgetype.Directed),o.addEdge(y[0],A,n.Edgetype.Directed),o.addEdge(y[1],A,n.Edgetype.Directed),u.minVertexCut(o,[b],[A])<=1&&i.push([t,s,c,a]),o.deleteEdge(b,v[0],n.Edgetype.Directed),o.deleteEdge(b,v[1],n.Edgetype.Directed),o.deleteEdge(y[0],A,n.Edgetype.Directed),o.deleteEdge(y[1],A,n.Edgetype.Directed)}for(l=0;l<_.length;l++)if(m=d.pluck(e.getVertex(_[l]).getParents(),"id"),!r||1==m.length)for(f=l+1;f<_.length;f++)if(x=d.pluck(e.getVertex(_[f]).getParents(),"id"),!r||1==x.length)for(h=f+1;h<_.length;h++)if(E=d.pluck(e.getVertex(_[h]).getParents(),"id"),!r||1==E.length)for(p=h+1;p<_.length;p++)if(V=d.pluck(e.getVertex(_[p]).getParents(),"id"),(!r||1==V.length)&&("within"!=r||0!=d.intersection(m,x,E,V).length)&&(S(_[l],_[f],_[h],_[p]),S(_[l],_[h],_[f],_[p]),S(_[l],_[p],_[f],_[h]),t--<0))return i;return i}},102:function(e){!function(e){"use strict";function t(e,r,n,i){this.message=e,this.expected=r,this.found=n,this.location=i,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,t)}!function(e,t){function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r}(t,Error),t.buildMessage=function(e,t){var r={literal:function(e){return'"'+i(e.text)+'"'},class:function(e){var t,r="";for(t=0;t<e.parts.length;t++)r+=e.parts[t]instanceof Array?o(e.parts[t][0])+"-"+o(e.parts[t][1]):o(e.parts[t]);return"["+(e.inverted?"^":"")+r+"]"},any:function(e){return"any character"},end:function(e){return"end of input"},other:function(e){return e.description}};function n(e){return e.charCodeAt(0).toString(16).toUpperCase()}function i(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+n(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+n(e)}))}function o(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+n(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+n(e)}))}return"Expected "+function(e){var t,n,i,o=new Array(e.length);for(t=0;t<e.length;t++)o[t]=(i=e[t],r[i.type](i));if(o.sort(),o.length>0){for(t=1,n=1;t<o.length;t++)o[t-1]!==o[t]&&(o[n]=o[t],n++);o.length=n}switch(o.length){case 1:return o[0];case 2:return o[0]+" or "+o[1];default:return o.slice(0,-1).join(", ")+", or "+o[o.length-1]}}(e)+" but "+function(e){return e?'"'+i(e)+'"':"end of input"}(t)+" found."},e.GraphDotParser={SyntaxError:t,parse:function(e,r){r=void 0!==r?r:{};var n,i,o,a,s={},d={start:Je},u=Je,c="strict",g=He("strict",!0),l="{",f=He("{",!1),h="}",p=He("}",!1),v=function(e,t,r){return{type:e.toLowerCase(),name:t,statements:r}},y=function(e,t){return{type:"subgraph",name:e,statements:t}},m=function(e,t){return function(e,t,r){return(null!==e?[e]:[]).concat(function(e,t){var r,n=[];for(r=0;r<e.length;r++)null!==e[r][1]&&n.push(e[r][1]);return n}(t))}(e,t)},x="=",E=He("=",!1),V=function(e,t){return{type:"node",id:"graph",attributes:[[e,t]]}},_=function(e,t,r){return null===r&&(r=[]),{type:"edge",content:[e].concat(t),attributes:r}},b=function(e,t,r){return r},A=function(e,t,r){return[e,t].concat(r||[])},S=function(e){return e},T=function(e,t){return null===t&&(t={}),{type:"node",id:e,attributes:t}},w="[",k=He("[",!1),C="]",N=He("]",!1),j=function(e){return e},O=";",P=He(";",!1),D=",",I=He(",",!1),M=function(e,t,r){var n=[[e,t=null===t?1:t[2]]];return r&&(n=n.concat(r)),n},B="@->",U=He("@->",!1),F="<-@",R=He("<-@",!1),L="->",G=He("->",!1),q="--@",z=He("--@",!1),W="--",K=He("--",!1),X="<->",H=He("<->",!1),Y="<-",$=He("<-",!1),Q="@-@",Z=He("@-@",!1),J="@--",ee=He("@--",!1),te=function(e){return e},re="graph",ne=He("graph",!0),ie="digraph",oe=He("digraph",!0),ae="dag",se=He("dag",!0),de="mag",ue=He("mag",!0),ce="pdag",ge=He("pdag",!0),le="pag",fe=He("pag",!0),he=function(e){return e},pe="-",ve=He("-",!1),ye=/^[0-9a-zA-Z_.]/,me=Ye([["0","9"],["a","z"],["A","Z"],"_","."],!1,!1),xe=function(e,t){return(null===e?"":"-")+t.join("")},Ee='"',Ve=He('"',!1),_e=function(){return""},be="\\",Ae=He("\\",!1),Se=/^[\r\n]/,Te=Ye(["\r","\n"],!1,!1),we="+",ke=He("+",!1),Ce=function(e,t){return t},Ne=function(e,t){return null===t?e[1]:e[1]+t},je=function(e){return e.join("")},Oe=/^[^"\\\0-\x1F\x7F]/,Pe=Ye(['"',"\\",["\0",""],""],!0,!1),De='\\"',Ie=He('\\"',!1),Me=function(){return'"'},Be=/^[\n\r]/,Ue=Ye(["\n","\r"],!1,!1),Fe=function(){return""},Re=function(){return"\\"},Le=/^[\n\r\t ;]/,Ge=Ye(["\n","\r","\t"," ",";"],!1,!1),qe=0,ze=[{line:1,column:1}],We=0,Ke=[],Xe=0;if("startRule"in r){if(!(r.startRule in d))throw new Error("Can't start parsing from rule \""+r.startRule+'".');u=d[r.startRule]}function He(e,t){return{type:"literal",text:e,ignoreCase:t}}function Ye(e,t,r){return{type:"class",parts:e,inverted:t,ignoreCase:r}}function $e(t){var r,n=ze[t];if(n)return n;for(r=t-1;!ze[r];)r--;for(n={line:(n=ze[r]).line,column:n.column};r<t;)10===e.charCodeAt(r)?(n.line++,n.column=1):n.column++,r++;return ze[t]=n,n}function Qe(e,t){var r=$e(e),n=$e(t);return{start:{offset:e,line:r.line,column:r.column},end:{offset:t,line:n.line,column:n.column}}}function Ze(e){qe<We||(qe>We&&(We=qe,Ke=[]),Ke.push(e))}function Je(){return t=qe,ct()!==s?(e.substr(qe,6).toLowerCase()===c?(r=e.substr(qe,6),qe+=6):(r=s,0===Xe&&Ze(g)),r===s&&(r=null),r!==s&&ct()!==s?(n=function(){var t,r;return t=qe,e.substr(qe,5).toLowerCase()===re?(r=e.substr(qe,5),qe+=5):(r=s,0===Xe&&Ze(ne)),r===s&&(e.substr(qe,7).toLowerCase()===ie?(r=e.substr(qe,7),qe+=7):(r=s,0===Xe&&Ze(oe)),r===s&&(e.substr(qe,3).toLowerCase()===ae?(r=e.substr(qe,3),qe+=3):(r=s,0===Xe&&Ze(se)),r===s&&(e.substr(qe,3).toLowerCase()===de?(r=e.substr(qe,3),qe+=3):(r=s,0===Xe&&Ze(ue)),r===s&&(e.substr(qe,4).toLowerCase()===ce?(r=e.substr(qe,4),qe+=4):(r=s,0===Xe&&Ze(ge)),r===s&&(e.substr(qe,3).toLowerCase()===le?(r=e.substr(qe,3),qe+=3):(r=s,0===Xe&&Ze(fe))))))),r!==s&&ct()!==s?t=r=he(r):(qe=t,t=s),t}(),n!==s?((i=at())===s&&(i=null),i!==s?(123===e.charCodeAt(qe)?(o=l,qe++):(o=s,0===Xe&&Ze(f)),o!==s&&ct()!==s&&(a=tt())!==s?(125===e.charCodeAt(qe)?(d=h,qe++):(d=s,0===Xe&&Ze(p)),d!==s&&ct()!==s?t=v(n,i,a):(qe=t,t=s)):(qe=t,t=s)):(qe=t,t=s)):(qe=t,t=s)):(qe=t,t=s)):(qe=t,t=s),t;var t,r,n,i,o,a,d}function et(){var t,r,n,i,o;return t=qe,(r=at())===s&&(r=null),r!==s?(123===e.charCodeAt(qe)?(n=l,qe++):(n=s,0===Xe&&Ze(f)),n!==s&&ct()!==s&&(i=tt())!==s?(125===e.charCodeAt(qe)?(o=h,qe++):(o=s,0===Xe&&Ze(p)),o!==s&&ct()!==s?t=r=y(r,i):(qe=t,t=s)):(qe=t,t=s)):(qe=t,t=s),t}function tt(){var e,t,r,n,i,o;if(e=qe,(t=rt())===s&&(t=null),t!==s){for(r=[],n=qe,(i=ct())===s&&(i=null),i!==s&&(o=rt())!==s?n=i=[i,o]:(qe=n,n=s);n!==s;)r.push(n),n=qe,(i=ct())===s&&(i=null),i!==s&&(o=rt())!==s?n=i=[i,o]:(qe=n,n=s);r!==s?e=t=m(t,r):(qe=e,e=s)}else qe=e,e=s;return e}function rt(){var t;return(t=function(){var t,r,n,i;return t=qe,(r=at())!==s?(61===e.charCodeAt(qe)?(n=x,qe++):(n=s,0===Xe&&Ze(E)),n!==s&&ct()!==s&&(i=at())!==s?t=r=V(r,i):(qe=t,t=s)):(qe=t,t=s),t}())===s&&(t=function(){var e,t,r,n;return e=qe,(t=at())===s&&(t=et()),t!==s&&(r=nt())!==s?((n=it())===s&&(n=null),n!==s?e=t=_(t,r,n):(qe=e,e=s)):(qe=e,e=s),e}())===s&&(t=function(){var e,t,r;return e=qe,(t=at())!==s?((r=it())===s&&(r=null),r!==s?e=t=T(t,r):(qe=e,e=s)):(qe=e,e=s),e}())===s&&(t=et()),t}function nt(){var t,r,n,i,o;return qe,t=qe,r=function(){var t,r;return t=qe,e.substr(qe,3)===B?(r=B,qe+=3):(r=s,0===Xe&&Ze(U)),r===s&&(e.substr(qe,3)===F?(r=F,qe+=3):(r=s,0===Xe&&Ze(R)),r===s&&(e.substr(qe,2)===L?(r=L,qe+=2):(r=s,0===Xe&&Ze(G)),r===s&&(e.substr(qe,3)===q?(r=q,qe+=3):(r=s,0===Xe&&Ze(z)),r===s&&(e.substr(qe,2)===W?(r=W,qe+=2):(r=s,0===Xe&&Ze(K)),r===s&&(e.substr(qe,3)===X?(r=X,qe+=3):(r=s,0===Xe&&Ze(H)),r===s&&(e.substr(qe,2)===Y?(r=Y,qe+=2):(r=s,0===Xe&&Ze($)),r===s&&(e.substr(qe,3)===Q?(r=Q,qe+=3):(r=s,0===Xe&&Ze(Z)),r===s&&(e.substr(qe,3)===J?(r=J,qe+=3):(r=s,0===Xe&&Ze(ee)))))))))),r!==s&&ct()!==s?t=r=te(r):(qe=t,t=s),t}(),r!==s?((n=at())===s&&(n=et()),n!==s?(i=qe,(o=nt())!==s&&(o=b(r,n,o)),(i=o)===s&&(i=null),i!==s?t=r=A(r,n,i):(qe=t,t=s)):(qe=t,t=s)):(qe=t,t=s),t!==s&&(t=S(t)),t}function it(){var t,r,n,i;return t=qe,91===e.charCodeAt(qe)?(r=w,qe++):(r=s,0===Xe&&Ze(k)),r!==s&&ct()!==s?((n=ot())===s&&(n=null),n!==s?(93===e.charCodeAt(qe)?(i=C,qe++):(i=s,0===Xe&&Ze(N)),i!==s&&ct()!==s?t=r=j(n):(qe=t,t=s)):(qe=t,t=s)):(qe=t,t=s),t}function ot(){var t,r,n,i,o,a;return t=qe,(r=at())!==s?(n=qe,61===e.charCodeAt(qe)?(i=x,qe++):(i=s,0===Xe&&Ze(E)),i!==s&&(o=ct())!==s&&(a=at())!==s?n=i=[i,o,a]:(qe=n,n=s),n===s&&(n=null),n!==s?(59===e.charCodeAt(qe)?(i=O,qe++):(i=s,0===Xe&&Ze(P)),i===s&&(44===e.charCodeAt(qe)?(i=D,qe++):(i=s,0===Xe&&Ze(I))),i===s&&(i=null),i!==s&&(o=ct())!==s?((a=ot())===s&&(a=null),a!==s?t=r=M(r,n,a):(qe=t,t=s)):(qe=t,t=s)):(qe=t,t=s)):(qe=t,t=s),t}function at(){var t;return(t=function(){var t,r,n,i;if(t=qe,45===e.charCodeAt(qe)?(r=pe,qe++):(r=s,0===Xe&&Ze(ve)),r===s&&(r=null),r!==s){if(n=[],ye.test(e.charAt(qe))?(i=e.charAt(qe),qe++):(i=s,0===Xe&&Ze(me)),i!==s)for(;i!==s;)n.push(i),ye.test(e.charAt(qe))?(i=e.charAt(qe),qe++):(i=s,0===Xe&&Ze(me));else n=s;n!==s&&(i=ct())!==s?t=r=xe(r,n):(qe=t,t=s)}else qe=t,t=s;return t}())===s&&(t=st()),t}function st(){var t,r,n,i,o,a,d,u;if(t=qe,34===e.charCodeAt(qe)?(r=Ee,qe++):(r=s,0===Xe&&Ze(Ve)),r!==s?(34===e.charCodeAt(qe)?(n=Ee,qe++):(n=s,0===Xe&&Ze(Ve)),n!==s&&(i=ct())!==s?t=r=_e():(qe=t,t=s)):(qe=t,t=s),t===s){if(t=qe,r=qe,34===e.charCodeAt(qe)?(n=Ee,qe++):(n=s,0===Xe&&Ze(Ve)),n!==s)if((i=dt())!==s){if(o=qe,92===e.charCodeAt(qe)?(a=be,qe++):(a=s,0===Xe&&Ze(Ae)),a!==s){if(d=[],Se.test(e.charAt(qe))?(u=e.charAt(qe),qe++):(u=s,0===Xe&&Ze(Te)),u!==s)for(;u!==s;)d.push(u),Se.test(e.charAt(qe))?(u=e.charAt(qe),qe++):(u=s,0===Xe&&Ze(Te));else d=s;d!==s&&(u=dt())!==s?o=a=[a,d,u]:(qe=o,o=s)}else qe=o,o=s;o===s&&(o=null),o!==s?(34===e.charCodeAt(qe)?(a=Ee,qe++):(a=s,0===Xe&&Ze(Ve)),a!==s&&(d=ct())!==s?r=n=[n,i,o,a,d]:(qe=r,r=s)):(qe=r,r=s)}else qe=r,r=s;else qe=r,r=s;r!==s?(n=qe,43===e.charCodeAt(qe)?(i=we,qe++):(i=s,0===Xe&&Ze(ke)),i!==s&&(o=ct())!==s&&(a=st())!==s?n=i=Ce(r,a):(qe=n,n=s),n===s&&(n=null),n!==s?t=r=Ne(r,n):(qe=t,t=s)):(qe=t,t=s)}return t}function dt(){var e,t;if(qe,e=[],(t=ut())!==s)for(;t!==s;)e.push(t),t=ut();else e=s;return e!==s&&(e=je(e)),e}function ut(){var t,r,n,i;if(Oe.test(e.charAt(qe))?(t=e.charAt(qe),qe++):(t=s,0===Xe&&Ze(Pe)),t===s&&(t=qe,e.substr(qe,2)===De?(r=De,qe+=2):(r=s,0===Xe&&Ze(Ie)),r!==s&&(r=Me()),(t=r)===s)){if(t=qe,92===e.charCodeAt(qe)?(r=be,qe++):(r=s,0===Xe&&Ze(Ae)),r!==s){if(n=[],Be.test(e.charAt(qe))?(i=e.charAt(qe),qe++):(i=s,0===Xe&&Ze(Ue)),i!==s)for(;i!==s;)n.push(i),Be.test(e.charAt(qe))?(i=e.charAt(qe),qe++):(i=s,0===Xe&&Ze(Ue));else n=s;n!==s?t=r=Fe():(qe=t,t=s)}else qe=t,t=s;t===s&&(t=qe,92===e.charCodeAt(qe)?(r=be,qe++):(r=s,0===Xe&&Ze(Ae)),r!==s&&(r=Re()),t=r)}return t}function ct(){var t,r;for(t=[],Le.test(e.charAt(qe))?(r=e.charAt(qe),qe++):(r=s,0===Xe&&Ze(Ge));r!==s;)t.push(r),Le.test(e.charAt(qe))?(r=e.charAt(qe),qe++):(r=s,0===Xe&&Ze(Ge));return t}if((n=u())!==s&&qe===e.length)return n;throw n!==s&&qe<e.length&&Ze({type:"end"}),i=Ke,o=We<e.length?e.charAt(We):null,a=We<e.length?Qe(We,We+1):Qe(We,We),new t(t.buildMessage(i,o),i,o,a)}}}(this),e.exports=e.exports.GraphDotParser},333:(e,t,r)=>{const n=r(50),i={};i.prototype={layoutCalcBounds:function(){var e=1/0,t=-1/0,r=1/0,i=-1/0;n.each(this.graph.vertices.values(),(function(n){var o=n.layout_pos_x,a=n.layout_pos_y;o>t&&(t=o),o<e&&(e=o),a>i&&(i=a),a<r&&(r=a)}));var o=Math.max(.1*(t-e),.5);t+=o,e-=o;var a=Math.max(.1*(i-r),.5);i+=a,r-=a,this.graph.setBoundingBox([e,r,t,i].map((function(e){return Math.round(1e3*e)/1e3})))}},i.Spring=function(e){this.graph=e,this.iterations=500,this.maxRepulsiveForceDistance=6,this.k=2,this.c=.01,this.maxVertexMovement=.5},i.Spring.prototype={layoutCalcBounds:i.prototype.layoutCalcBounds,layout:function(){this.layoutPrepare();for(var e=0;e<this.iterations;e++)this.layoutIteration();this.layoutCalcBounds()},layoutPrepare:function(){n.each(this.graph.vertices.values(),(function(e){e.layout_pos_x=0,e.layout_pos_y=0,e.layoutForceX=0,e.layoutForceY=0})),n.each(this.graph.edges,(function(e){delete e.attraction}))},layoutIteration:function(){for(var e=this.graph.vertices.values(),t=0;t<e.length;t++)for(var r=e[t],n=t+1;n<e.length;n++){var i=e[n];this.layoutRepulsive(r,i)}for(t=0;t<this.graph.edges.length;t++){var o=this.graph.edges[t];this.layoutAttractive(o)}for(t=0;t<e.length;t++){var a=e[t],s=this.c*a.layoutForceX,d=this.c*a.layoutForceY,u=this.maxVertexMovement;s>u&&(s=u),s<-u&&(s=-u),d>u&&(d=u),d<-u&&(d=-u),a.layout_pos_x+=s,a.layout_pos_y+=d,a.layoutForceX=0,a.layoutForceY=0}},layoutRepulsive:function(e,t){var r=t.layout_pos_x-e.layout_pos_x,n=t.layout_pos_y-e.layout_pos_y,i=r*r+n*n;i<.01&&(i=(r=.1*Math.random()+.1)*r+(n=.1*Math.random()+.1)*n);var o=Math.sqrt(i);if(o<this.maxRepulsiveForceDistance){var a=this.k*this.k/o;t.layoutForceX+=a*r/o,t.layoutForceY+=a*n/o,e.layoutForceX-=a*r/o,e.layoutForceY-=a*n/o}},layoutAttractive:function(e){var t=e.v1,r=e.v2,n=r.layout_pos_x-t.layout_pos_x,i=r.layout_pos_y-t.layout_pos_y,o=n*n+i*i;o<.01&&(o=(n=.1*Math.random()+.1)*n+(i=.1*Math.random()+.1)*i);var a=Math.sqrt(o);a>this.maxRepulsiveForceDistance&&(o=(a=this.maxRepulsiveForceDistance)*a);var s=(o-this.k*this.k)/this.k;(null==e.attraction||e.attraction<1)&&(e.attraction=1),s*=.5*Math.log(e.attraction)+1,r.layoutForceX-=s*n/a,r.layoutForceY-=s*i/a,t.layoutForceX+=s*n/a,t.layoutForceY+=s*i/a}},e.exports=i},281:(e,t,r)=>{const n=r(50),i=r(341),o=r(326),a=r(102);var s={VALIDATE_GRAPH_STRUCTURE:!1,parseDot:function(e,t){"use strict";var r=(e=e.trim()).trim().match(/^(digraph|graph|dag|pdag|mag|pag)(\s+\w+)?\s*\{([\s\S]*)\}$/im);(!r||r.length<=1)&&(e="dag{ "+e+"}");var n=a.parse(e);if(void 0===t&&(t=new i),this.parseDotStatementArray(n.statements,t),t.setType(n.type),n.name&&t.setName(n.name),this.VALIDATE_GRAPH_STRUCTURE&&!o.validate(t))throw t.toString();return t},parseDotStatementArray:function(e,t){var r,o,a,d,u,c,g,l=new i,f=function(e){if("graph"==e||"node"==e)throw"Syntax error: variables cannot be named 'graph' or 'node'. Use the 'label' attribute instead.";return l.getVertex(e)||l.addVertex(e),t.getVertex(e)||t.addVertex(e)},h=new RegExp("\\s*(-?[0-9.]+)\\s*,\\s*(-?[0-9.]+)\\s*"),p=function(e){var t=e.match(h);if("string"!=typeof t[1]||"string"!=typeof t[2])throw'Syntax error in "pos" option!';return{x:parseFloat(t[1]),y:parseFloat(t[2])}},v=new RegExp("\\s*(-?[0-9.]+)\\s*,\\s*(-?[0-9.]+)\\s*,\\s*(-?[0-9.]+)\\s*,\\s*(-?[0-9.]+)\\s*"),y=function(e){var t=e.match(v);if(t.shift(),n.any(t,(function(e){return"string"!=typeof e})))throw'Syntax error in "bb" option!';return n.map(t,parseFloat)},m=function(e){var r=s.parseDotStatementArray(e,t);return n.each(r,(function(e){l.getVertex(e.id)||l.addVertex(e.id)})),r};return n.each(e,(function(e){if("node"==e.type&&"graph"==e.id)for(r=0;r<e.attributes.length;r++)"bb"===e.attributes[r][0]&&(g=y(e.attributes[r][1]),t.setBoundingBox(g));else if("subgraph"==e.type)m(e.statements);else if("node"==e.type)for(a=f(e.id),r=0;r<e.attributes.length;r++)switch(e.attributes[r][0]){case"latent":case"l":case"unobserved":case"u":t.addLatentNode(a);break;case"source":case"exposure":case"e":t.addSource(a);break;case"target":case"outcome":case"o":t.addTarget(a);break;case"adjusted":case"a":t.addAdjustedNode(a);break;case"selected":case"s":t.addSelectedNode(a);break;case"pos":c=p(e.attributes[r][1]),a.layout_pos_x=parseFloat(c.x),a.layout_pos_y=parseFloat(c.y);break;case"label":a.label=e.attributes[r][1];break;default:a.attributes||(a.attributes={}),a.attributes[e.attributes[r][0]]=e.attributes[r][1]}else if("edge"==e.type)for(r=3;r<=e.content.length;r+=2)for(a="string"==typeof e.content[r-3]?[f(e.content[r-3])]:m(e.content[r-3].statements),d="string"==typeof e.content[r-1]?[f(e.content[r-1])]:m(e.content[r-1].statements),n.each(a,(function(o){n.each(d,(function(n){switch(e.content[r-2]){case"@-@":u=t.addEdge(o,n,i.Edgetype.Unspecified);break;case"--":u=t.addEdge(o,n,i.Edgetype.Undirected);break;case"<->":u=t.addEdge(o,n,i.Edgetype.Bidirected);break;case"->":u=t.addEdge(o,n,i.Edgetype.Directed);break;case"<-":u=t.addEdge(n,o,i.Edgetype.Directed);break;case"@->":u=t.addEdge(o,n,i.Edgetype.PartDirected);break;case"<-@":u=t.addEdge(n,o,i.Edgetype.PartDirected);break;case"@--":u=t.addEdge(o,n,i.Edgetype.PartUndirected);break;case"--@":u=t.addEdge(n,o,i.Edgetype.PartUndirected)}}))})),o=0;o<e.attributes.length;o++)switch(e.attributes[o][0]){case"pos":c=p(e.attributes[o][1]),u.layout_pos_x=parseFloat(c.x),u.layout_pos_y=parseFloat(c.y);break;case"label":u.id=e.attributes[o][1];break;default:u.attributes||(u.attributes={}),u.attributes[e.attributes[o][0]]=e.attributes[o][1]}})),n.map(l.getVertices(),(function(e){return t.getVertex(e)}))},parseVertexLabelsAndWeights:function(e){"use strict";var t,r,n,o=new i,a=e.trim().split(/\n/);for(t=0;t<a.length;t++){var s=a[t],d=s.trim().split(/\s+/);a[t]=[],d.length>=2&&s.indexOf("@")>=0?(a[t][2]=d.pop(),a[t][1]=d.pop(),a[t][0]=d.join(" ")):d.length>=2?(a[t][1]=d.pop(),a[t][0]=d.join(" ")):1==d.length&&(a[t][1]="1",a[t][0]=d.pop())}for(t=0;t<a.length;t++){var u=decodeURIComponent(a[t][0]),c=a[t][1];r=parseInt(c,10)||1,o.addVertex(new i.Vertex({id:u,weight:r})),c.indexOf("E")>=0&&o.addSource(u),c.indexOf("O")>=0&&o.addTarget(u),c.indexOf("A")>=0&&o.addAdjustedNode(u),c.indexOf("U")>=0&&o.addLatentNode(u),3==a[t].length&&(n=a[t][2].substring(1).split(","),o.getVertex(u).layout_pos_x=parseFloat(n[0]),o.getVertex(u).layout_pos_y=parseFloat(n[1]))}return o.setType("dag"),o},parseAdjacencyList:function(e,t){"use strict";var r,n,a,s,d,u,c=this.parseVertexLabelsAndWeights(t),g=e.split("\n");for(r=0;r<g.length;r++){for(n=g[r].trim().split(/\s+/),a=!1,s="";n.length>0&&!a;)s+=n.shift(),a=c.getVertex(decodeURIComponent(s)),s+=" ";for(;n.length>0;){for(d=!1,u="";n.length>0&&!d;)u+=n.shift(),d=c.getVertex(decodeURIComponent(u)),u+=" ";if(d){var l=c.getEdge(d,a,i.Edgetype.Directed);if(l){c.deleteEdge(d,a,i.Edgetype.Directed);var f=c.addEdge(a,d,i.Edgetype.Bidirected);l.layout_pos_x&&!f.layout_pos_x&&(f.layout_pos_x=l.layout_pos_x,f.layout_pos_y=l.layout_pos_y)}else c.addEdge(a,d);if(n.length>0&&"@"==n[0].charAt(0)){var h=c.getEdge(a,d),p=n.shift().substring(1).split(",");p.length>=2&&(h.layout_pos_x=parseFloat(p[0]),h.layout_pos_y=parseFloat(p[1]))}}}}if(this.VALIDATE_GRAPH_STRUCTURE&&!o.validate(c))throw c.toString();return c},parseAdjacencyMatrix:function(e,t){"use strict";var r,n,i,a=this.parseVertexLabelsAndWeights(t),s=e.trim(),d=s.split(/\s+/),u=Math.sqrt(s.split(/\s+/).length);if(parseInt(u,10)!==u||u!==a.getNumberOfVertices())throw"Error loading data: Adjacency matrix is not square or does not match number of vertices: "+u+" , "+a.getNumberOfVertices();for(r=t.trim().split("\n"),n=0;n<r.length;n++)r[n]=r[n].trim().split(/\s+/);for(n=0;n<u;n++)for(i=0;i<u;i++)parseInt(d[n*u+i],10)>0&&a.addEdge(r[n][0],r[i][0]);if(this.VALIDATE_GRAPH_STRUCTURE&&!o.validate(a))throw a.toString();return a.setType("dag"),a},parseGuess:function(e,t){"use strict";var r,n=e.trim();if(t||(r=e.search(/\r?\n[ \t]*\r?\n/),t=e.substr(0,r).trim(),e=e.substr(r).trim()),null!==e.match(/^[\s01]+$/))return this.parseAdjacencyMatrix(e,t);var i=n.match(/^(digraph|graph|dag|pdag|mag|pag)(\s+\w+)?\s*\{([\s\S]*)\}$/im);if(i&&i.length>1)return this.parseDot(n);var o=n.match(/(->|<->|<-)/im);return o&&o.length>=1?this.parseDot(n):this.parseAdjacencyList(e,t)}};e.exports=s},862:(e,t,r)=>{const n=r(50),i={SHORTEN_SYNTAX:!0,toDot:function(e){var t=e.getName(),r=e.getBoundingBox();return e.getType()+" "+(null==t?"":t)+"{\n"+(null==r?"":'bb="'+r.join(",")+'"\n')+this.toDotVertexStatements(e)+this.toDotEdgeStatements(e)+"\n}\n"},toDotVertexStatements:function(e){var t=[];return n.each(e.vertices.values(),(function(r){var n=function(e,t){var r=[];if(t.isSource(e)&&r.push("exposure"),t.isTarget(e)&&r.push("outcome"),t.isAdjustedNode(e)&&r.push("adjusted"),t.isLatentNode(e)&&r.push("latent"),t.isSelectedNode(e)&&r.push("selected"),void 0!==e.layout_pos_x&&r.push('pos="'+e.layout_pos_x.toFixed(3)+","+e.layout_pos_y.toFixed(3)+'"'),e.label&&r.push('label="'+e.label.replace(/"/g,'\\"')+'"'),e.attributes)for(var n=Object.keys(e.attributes),o=0;o<n.length;o++)e.attributes[n[o]]?r.push(n[o]+'="'+(""+e.attributes[n[o]]).replace(/"/g,'\\"')+'"'):r.push(n[o]);return r.length>0?i.dotQuoteVid(e.id)+" ["+r.join(",")+"]":this.SHORTEN_SYNTAX&&0!=e.getAdjacentNodes().length?"":i.dotQuoteVid(e.id)}(r,e);n&&t.push(n+"\n")})),t.sort(),""+t.join("")},dotBarewordRe:new RegExp("^[0-9a-zA-Z_.]+$"),quoteVid:function(e){return'"'+e.replace(/"/g,'\\"')+'"'},dotQuoteVid:function(e){return e.match(this.dotBarewordRe)?e:this.quoteVid(e)},toDotEdgeStatements:function(e){var t,r,i=[],o=n.each(e.edges,(function(e){if(t=e.toString(o),r=[],e.layout_pos_x&&r.push('pos="'+e.layout_pos_x.toFixed(3)+","+e.layout_pos_y.toFixed(3)+'"'),e.id&&r.push('label="'+encodeURIComponent(e.id)+'"'),e.attributes)for(var n=Object.keys(e.attributes),a=0;a<n.length;a++)e.attributes[n[a]]?r.push(n[a]+'="'+(""+e.attributes[n[a]]).replace(/"/g,'\\"')+'"'):r.push(n[a]);r.length>0&&(t+=" ["+r.join(",")+"]"),i.push(t)}));return i.sort(),i.join("\n")},pathToDot:function(e){var t,r,n,i,o,a,s="";if(0==e.vertices.keys().length)return"";if(1!=e.getSources().length)return"";for((i={})[(t=e.getSources()[0]).id]=1,s=this.dotQuoteVid(t.id),a=["->","<-","--","<->"];t;){o={"->":t.getChildren(),"<-":t.getParents(),"--":t.getNeighbours(),"<->":t.getSpouses()};e:for(n=0;n<4;n++)for(r=0;r<o[a[n]].length;r++)if(!i[o[a[n]][r].id])break e;4==n?t=null:(t=o[a[n]][r],s+=" "+a[n]+" "+this.dotQuoteVid(t.id),i[t.id]=1)}return s},toTikz:function(e,t){null==t&&(t=5);var r,n,i,a,s,d,u=e.getVertices(),c="",g=e.getEdges(),l=[];for(r=0;r<u.length;r++)c+="\\node (v"+r+") at ("+u[r].layout_pos_x.toPrecision(t)+","+(-u[r].layout_pos_y).toPrecision(t)+") {"+u[r].id+"};\n",l[u[r].id]=r;for(r=0;r<g.length;r++)n="",g[r].directed==o.Edgetype.Directed&&(n="[->] "),g[r].directed==o.Edgetype.Bidirected&&(n="[->,<-] "),g[r].layout_pos_x?(i=(1/3*g[r].v1.layout_pos_x+2/3*g[r].layout_pos_x).toPrecision(t),a=-(1/3*g[r].v1.layout_pos_y+2/3*g[r].layout_pos_y).toPrecision(t),s=(1/3*g[r].v2.layout_pos_x+2/3*g[r].layout_pos_x).toPrecision(t),d=-(1/3*g[r].v2.layout_pos_y+2/3*g[r].layout_pos_y).toPrecision(t),c+="\\draw "+n+"(v"+l[g[r].v1.id]+") .. controls ("+i+","+a+") and ("+s+","+d+") .. (v"+l[g[r].v2.id]+");\n"):c+="\\draw "+n+"(v"+l[g[r].v1.id]+") edge (v"+l[g[r].v2.id]+");\n";return c},toEdgelist:function(e){var t=e.getEdges(),r=[];return n.each(t,(function(e){r.push("('"+e.v1.id.replace(/'/g,"\\'")+"','"+e.v2.id.replace(/'/g,"\\'")+"')")})),"["+r.join(",")+"]"},toBnlearn:function(e){var t=e.getVertices(),r="";return n.each(t,(function(e){r+="["+e.id;var t=n.pluck(e.getParents(),"id").join(":");t&&(r+="|"+t),r+="]"})),r},mathematicaSyntax:function(e,t){var r=this.polynomialVariety(e,t);return"GroebnerBasis[{"+r[0]+"},\n{"+r[2].join(",")+"},\n{"+r[1].join(",")+"}]"},singularSyntax:function(e,t,r){r=r?1:0;var n=this.polynomialVariety(e,t,r);return"ring r = 0,("+n[1].join(",")+","+n[2].join(",")+"),(dp("+n[1].length+"),lp);\nideal i = "+n[0]+";\noption(redSB);\nideal j = groebner(i); print( j );"},toSingular:function(e){return this.singularSyntax(e,!0,!0)},toJavascriptMultilineString:function(e){var t,r=e.toString().split("\n"),n=[];for(t=0;t<r.length;t++)n.push(r[t]);return'\t"'+n.join('\\n"+\n\t"')+'"'},toCausalEffectIgraphRCode:function(e){var t=GraphTransformer.contractLatentNodes(e),r=[],a=[],s=new Hash;n.each(t.getEdges(),(function(e){s.set(e.v1.id,!0),s.set(e.v2.id,!0),r.push(i.quoteVid(e.v1.id)+","+i.quoteVid(e.v2.id)),e.directed==o.Edgetype.Bidirected&&(a.push(r.length),r.push(i.quoteVid(e.v2.id)+","+i.quoteVid(e.v1.id)),a.push(r.length))}));var d=r.length>0?"set.edge.attribute(graph = graph_from_edgelist(matrix(c( "+r.join(", ")+' ),nc = 2,byrow = TRUE)), name = "description", index = c('+a.join(", ")+'), value = "U")':"make_empty_graph()",u=n.filter(e.getVertices(),(function(e){return!s.get(e.id)}));return u.length>0&&(d=d+" + vertices("+u.map((function(e){return i.quoteVid(e.id)})).join(", ")+")"),d},toCausalEffectRCode:function(e){var t=function(e){return"c("+e.map((function(e){return i.quoteVid(e.id)})).join(", ")+")"};return"causal.effect(y = "+t(e.getTargets())+", x = "+t(e.getSources())+", G = "+this.toCausalEffectIgraphRCode(e)+")"}};e.exports=i;const o=r(341),a=r(326);i.toLavaan=function(e){var t,r=e.getEdges(),i="# Please set lavaan's fixed.x appopriately!\n",a={};return n.each(r,(function(r){t="";var n=!0;if(r.directed==o.Edgetype.Directed)e.isLatentNode(r.v1)?e.isLatentNode(r.v2)?t="~":(t="=~",n=!1):t="~";else{if(r.directed!=o.Edgetype.Bidirected)throw"Unsupported edge for lavaan conversion : "+r.toString();t=" ~~ "}i+=n?r.v2.id+t+r.v1.id+"\n":r.v1.id+t+r.v2.id+"\n",a[r.v1.id]=1,a[r.v2.id]=1})),n.each(n.difference(n.pluck(e.getVertices(),"id"),n.keys(a)),(function(e){i+=e+" ~~ "+e+"\n"})),i},i.polynomialVariety=function(e,t,r){void 0===t&&(t=!1),r=r?1:0;var n,i,o=e.getVertices(),s=[],d=[],u=[];for(n=0;n<o.length;n++)u[o[n].id]=t?o[n].id:n;var c=function(e,t){return"a"+u[o[e].id]+"a"+u[o[t].id]};for(n=0;n<o.length;n++){if(0==n)var g=a.trekRule(e,o[n],o[n],t,r)[1];if(!e.isLatentNode(o[n]))for(i=n+r;i<o.length;i++)if(!e.isLatentNode(o[i])){d.push(c(n,i));var l=a.trekRule(e,o[n],o[i],t,r);l[0].length>0?s.push(c(n,i)+" - ("+l[0].map((function(e){return e.join("*")})).join(" + ")+")"):s.push(c(n,i))}}return[s.join(",\n"),g,d]},i.toImplicationTestRCode=function(e,t){var r,i,o,s;for(null==t&&(t=1e3),r=a.listMinimalImplications(e,t),s=[],i=0;i<r.length;i++)for(o=0;o<r[i][2].length;o++)s.push('c("'+r[i][0]+'","'+r[i][1]+'"'+(r[i][2][o].length>0?',"'+n.pluck(r[i][2][o],"id").join('","')+'"':"")+")");return'testImplications <- function( covariance.matrix, sample.size ){\n\tlibrary(ggm)\n\ttst <- function(i){ pcor.test( pcor(i,covariance.matrix), length(i)-2, sample.size )$pvalue }\ntos <- function(i){ paste(i,collapse=" ") }\nimplications <- list('+s.join(",\n\t\t")+")\n\tdata.frame( implication=unlist(lapply(implications,tos)),\n\t\tpvalue=unlist( lapply( implications, tst ) ) )\n\n}"}},57:(e,t,r)=>{const n=r(50),i=r(264),o=r(341);var a={lineDigraph:function(e){var t=new o;return n.each(e.getEdges(),(function(e){e.directed==o.Edgetype.Directed&&t.addVertex(new o.Vertex({id:e.id||e.v1.id+e.v2.id}))})),n.each(e.getVertices(),(function(r){var i=r.getParents(),a=r.getChildren();n.each(i,(function(i){var s=e.getEdge(i,r,o.Edgetype.Directed),d=t.getVertex(s.id||s.v1.id+s.v2.id);n.each(a,(function(n){var i=e.getEdge(r,n,o.Edgetype.Directed),a=t.getVertex(i.id||i.v1.id+i.v2.id);t.addEdge(d,a,o.Edgetype.Directed)}))}))})),t},inducedSubgraph:function(e,t){var r,i=new o;for(r=0;r<t.length;r++)i.addVertex(new o.Vertex(t[r]));var a=n.pluck(t,"id");for(r=0;r<e.edges.length;r++){var s=e.edges[r];n.contains(a,s.v1.id)&&n.contains(a,s.v2.id)&&i.addEdge(s.v1.id,s.v2.id,s.directed)}return e.copyAllPropertiesTo(i),i},mergeGraphs:function(){var e,t,r,n,i=new o;for(e=0;e<arguments.length;e++){for(r=arguments[e].getVertices(),t=0;t<r.length;t++)i.getVertex(r[t].id)||i.addVertex(new o.Vertex(r[t]));for(n=arguments[e].edges,t=0;t<n.length;t++)i.addEdge(n[t].v1.id,n[t].v2.id,n[t].directed);arguments[e].copyAllPropertiesTo(i)}return i},structuralPart:function(e){return a.inducedSubgraph(e,e.getLatentNodes())},measurementPart:function(e){var t,r=new o,i=e.getVertices();for(t=0;t<i.length;t++)r.addVertex(new o.Vertex(i[t]));for(t=0;t<e.edges.length;t++){var a=e.edges[t];a.directed!=o.Edgetype.Directed||e.isLatentNode(a.v2)||r.addEdge(a.v1.id,a.v2.id,a.directed),a.directed!=o.Edgetype.Bidirected||e.isLatentNode(a.v1)||e.isLatentNode(a.v2)||r.addEdge(a.v1.id,a.v2.id,a.directed)}for(e.copyAllPropertiesTo(r),i=n.pluck(r.getLatentNodes(),"id"),t=0;t<i.length;t++)0==r.getVertex(i[t]).degree(o.Edgetype.Directed)&&r.deleteVertex(r.getVertex(i[t]));return r},skeleton:function(e){var t,r=new o,n=e.edges,i=e.vertices.values();for(t=0;t<i.length;t++)r.addVertex(i[t].cloneWithoutEdges());for(t=0;t<n.length;t++){var a=n[t];r.addEdge(a.v1.id,a.v2.id,o.Edgetype.Undirected)}return e.copyAllPropertiesTo(r),r.setType("graph"),r},edgeInducedSubgraph:function(e,t){for(var r=new o,n=0;n<t.length;n++){var i=t[n],a=e.getEdge(i.v1.id,i.v2.id,i.directed);a&&(r.getVertex(a.v1.id)||r.addVertex(a.v1.id),r.getVertex(a.v2.id)||r.addVertex(a.v2.id),r.addEdge(a.v1.id,a.v2.id,a.directed))}return e.copyAllPropertiesTo(r),r},ancestorGraph:function(e,t){return arguments.length<2&&(t=n.union(e.getSources(),e.getTargets(),e.getAdjustedNodes(),e.getSelectedNodes())),this.inducedSubgraph(e,e.anteriorsOf(t))},backDoorGraph:function(e,t,r){var i,d,u=e.clone();return"pag"==e.getType()?(i=a.pagToPdag(e)).setType("pag"):i=u,t=void 0===t?e.getSources():n.map(t,o.getVertex,e),r=void 0===r?e.getTargets():n.map(r,o.getVertex,e),0==t.length||0==r.length?i:(t=i.getVertex(n.pluck(t,"id")),r=i.getVertex(n.pluck(r,"id")),d=s.properPossibleCausalPaths(i,t,r),n.each(t,(function(e){n.each(n.intersection(d,e.getChildren()),(function(t){s.isEdgeVisible(i,i.getEdge(e.id,t.id))&&u.deleteEdge(e,t,o.Edgetype.Directed)}))})),u)},indirectGraph:function(e,t,r){var i=e.clone(),o=[];return 3==arguments.length&&(n.each(t,(function(e){i.addSource(e.id)})),n.each(r,(function(e){i.addTarget(e.id)}))),n.each(i.getSources(),(function(e){n.each(i.getTargets(),(function(t){var r=i.getEdge(e,t);r&&o.push(r)}))})),n.each(o,(function(e){i.deleteEdge(e.v1,e.v2,e.directed)})),i},causalFlowGraph:function(e,t,r){1==arguments.length&&(t=e.getSources(),r=e.getTargets());var i=function(){n.each(e.vertices.values(),(function(t){e.isAdjustedNode(t)?o.Vertex.markAsVisited(t):o.Vertex.markAsNotVisited(t)}))};return this.inducedSubgraph(e,n.intersection(e.ancestorsOf(r,i),e.descendantsOf(t,i)))},activeSelectionBiasGraph:function(e,t,r,i){var a=new o;return t=e.getVertex(t),r=e.getVertex(r),i=e.getVertex(i),n.each(e.getVertices(),(function(e){a.addVertex(e.id)})),e=e.clone(),n.each(i,(function(t){e.removeSelectedNode(t)})),n.each(this.activeBiasGraph(e).getEdges(),(function(e){a.addEdge(e.v1.id,e.v2.id,e.directed)})),e.addAdjustedNode(r),e.removeTarget(r),n.each(i,(function(t){e.addTarget(t)})),n.each(this.activeBiasGraph(e).getEdges(),(function(e){a.addEdge(e.v1.id,e.v2.id,e.directed)})),n.each(this.causalFlowGraph(e).getEdges(),(function(e){a.addEdge(e.v1.id,e.v2.id,e.directed)})),a},activeBiasGraph:function(e,t){var r=e.getSelectedNodes();n.each(r,(function(t){e.removeSelectedNode(t),e.addAdjustedNode(t)}));var i=this.activeBiasGraphWithoutSelectionNodes(e,t);return n.each(r,(function(t){e.removeAdjustedNode(t),e.addSelectedNode(t)})),i},trekGraph:function(e,t,r){var n,i,a,s,d=new o,u=e.getVertices(),c=e.getEdges();for(t||(t="up_"),r||(r="dw_"),s=0;s<u.length;s++)n=t+u[s].id,i=r+u[s].id,d.addVertex(new o.Vertex({id:n})),d.addVertex(new o.Vertex({id:i})),e.isSource(u[s])&&d.addSource(d.getVertex(n)),e.isTarget(u[s])&&d.addSource(d.getVertex(i)),d.addEdge(n,i);for(s=0;s<c.length;s++)2==c[s].directed&&(n=t+c[s].v1.id,i=r+c[s].v2.id,d.addEdge(n,i),n=t+c[s].v2.id,i=r+c[s].v1.id,d.addEdge(n,i));for(s=0;s<u.length;s++){n=t+u[s].id,i=r+u[s].id,a=u[s].getChildren(!1);for(var g=0;g<a.length;g++)d.addEdge(i,r+a[g].id),d.addEdge(t+a[g].id,n)}return d},canonicalDag:function(e){var t,r=new o,i=1,a=[],s=[];return n.each(e.getVertices(),(function(e){r.addVertex(e.cloneWithoutEdges())})),e.copyAllPropertiesTo(r),n.each(e.getEdges(),(function(e){switch(e.directed){case o.Edgetype.Undirected:for(;r.getVertex("S"+i);)i++;t=new o.Vertex({id:"S"+i}),r.addVertex(t),r.addSelectedNode(t),r.addEdge(e.v2,t),r.addEdge(e.v1,t),s.push(t);break;case o.Edgetype.Directed:r.addEdge(e.v1,e.v2);break;case o.Edgetype.Bidirected:for(;r.getVertex("L"+i);)i++;t=new o.Vertex({id:"L"+i}),r.addVertex(t),r.addLatentNode(t),r.addEdge(t,e.v2),r.addEdge(t,e.v1),a.push(t)}})),r.setType("dag"),{g:r,L:a,S:s}},decanonicalize:function(e,t,r){var i,a,s,d=e.clone();return n.each(t,(function(e){for(i=e.getChildren(),a=0;a<i.length;a++)for(s=a+1;s<i.length;s++)d.addEdge(i[a],i[s],o.Edgetype.Bidirected);d.deleteVertex(e)})),n.each(r,(function(e){for(i=e.getParents(),a=0;a<i.length;a++)for(s=a+1;s<i.length;s++)d.addEdge(i[a],i[s],o.Edgetype.Undirected);d.deleteVertex(e)})),0==r.length?d.setType("dag"):d.setType("mag"),d},dagToMag:function(e,t){t||(t=e.getLatentNodes());var r={};n.each(t,(function(e){r[e.id]=!0}));var i=n.difference(e.getVertices(),t),a={};n.each(i,(function(t){var r={};n.each(e.ancestorsOf([t]),(function(e){r[e.id]=!0})),a[t.id]=r}));var d={},u=new o;return n.each(i,(function(e){d[e.id]=u.addVertex(e.cloneWithoutEdges())})),e.copyAllPropertiesTo(u),u.setType("mag"),n.each(i,(function(t){var c=a[t.id];n.each(i,(function(n){if(!(n.id>=t.id)){var i=a[n.id];if(s.visitGraph(e,[t],(function(e,o,a){var s=o?e.v1:e.v2;if(a&&!o){if(!c[s.id]&&!i[s.id])return!1}else if(s.id!=t.id&&s.id!=n.id&&!r[s.id])return!1;return!0}),(function(e){return e!=n}))){var g=d[t.id],l=d[n.id];i[t.id]?u.quickAddDirectedEdge(g,l):c[n.id]?u.quickAddDirectedEdge(l,g):u.quickAddEdge(l,g,o.Edgetype.Bidirected)}}}))})),u},moralGraph:function(e){"pag"==e.getType()&&(e=a.pagToPdag(e));var t=new o;n.each(e.getVertices(),(function(e){t.addVertex(e.cloneWithoutEdges())}));var r=s.connectedComponents(e,"getSpouses");return n.each(r,(function(r){for(var n=e.parentsOf(r).concat(r),i=0;i<n.length;i++)for(var a=i+1;a<n.length;a++)t.addEdge(n[i].id,n[a].id,o.Edgetype.Undirected)})),n.each(e.edges,(function(e){e.directed==o.Edgetype.Undirected&&t.addEdge(e.v1.id,e.v2.id,e.directed)})),e.copyAllPropertiesTo(t),t.setType("graph"),t},flowNetwork:function(e,t){var r,n,a,s;void 0===t&&(t=new i);var d=e.clone();for(r=0;r<e.edges.length;r++){var u=e.edges[r],c=e.getEdge(u.v2.id,u.v1.id);c||(c=d.addEdge(u.v2.id,u.v1.id,o.Edgetype.Directed)),void 0===t.get(u)&&t.set(u,1),void 0===t.get(c)&&t.set(c,0)}for(var g="__SRC";e.getVertex(g);)g="_"+g;for(var l="__SNK";e.getVertex(l);)l="_"+l;d.addVertex(new o.Vertex({id:g})),d.removeAllSources(),d.addSource(g),d.addVertex(new o.Vertex({id:l})),d.removeAllTargets(),d.addTarget(l),s=d.getVertex(g),a=d.getVertex(l);var f=e.getSources();for(r=0;r<f.length;r++)n=d.getVertex(f[r].id),t.set(d.addEdge(s,n),Number.MAX_VALUE),t.set(d.addEdge(n,s),0);var h=e.getTargets();for(r=0;r<h.length;r++)n=d.getVertex(h[r].id),t.set(d.addEdge(n,a),Number.MAX_VALUE),t.set(d.addEdge(a,n),0);return{graph:d,capacities:t}},vertexCapacityGraph:function(e){var t=new o;return n.each(e.vertices.values(),(function(r){e.getSource()!==r&&t.addVertex(new o.Vertex({id:"I"+r.id})),e.getTarget()!==r&&t.addVertex(new o.Vertex({id:"O"+r.id})),e.getSource()!==r&&e.getTarget()!==r&&(t.addEdge(new o.Edge.Directed({v1:t.getVertex("I"+r.id),v2:t.getVertex("O"+r.id),capacity:1,is_backedge:!1})),t.addEdge(new o.Edge.Directed({v2:t.getVertex("I"+r.id),v1:t.getVertex("O"+r.id),capacity:0,is_backedge:!0})))})),n.each(e.edges,(function(r){r.v1!==e.getTarget()&&r.v2!==e.getSource()&&(t.addEdge(new o.Edge.Directed({v1:t.getVertex("O"+r.v1.id),v2:t.getVertex("I"+r.v2.id),capacity:1,is_backedge:!1})),t.addEdge(new o.Edge.Directed({v2:t.getVertex("O"+r.v1.id),v1:t.getVertex("I"+r.v2.id),capacity:0,is_backedge:!0})))})),t.setSource(t.getVertex("O"+e.getSource().id)).setTarget(t.getVertex("I"+e.getTarget().id))},transitiveReduction:function(e){var t=e.clone();return n.each(e.edges,(function(r){t.getEdge(r.v1,r.v2)&&n.intersection(e.descendantsOf([r.v1]),e.ancestorsOf([r.v2])).length>2&&t.deleteEdge(r.v1,r.v2,o.Edgetype.Directed)})),t},transitiveClosure:function(e){var t=e.clone();return n.each(t.vertices.values(),(function(e){n.each(t.descendantsOf([e]),(function(r){e!=r&&t.addEdge(e,r)}))})),t},dagToCpdag:function(e){for(var t=e.clone(),r=!0,n=t.getEdges();r;){r=!1;for(var i=0;i<n.length;i++)n[i].directed!=o.Edgetype.Directed||s.isEdgeStronglyProtected(t,n[i])||(t.changeEdge(n[i],o.Edgetype.Undirected),r=!0)}return t.setType("pdag"),t},dependencyGraph:function(e){var t=a.canonicalDag(e).g,r=a.dag2DependencyGraph(t),i=[];return n.each(e.vertices.values(),(function(e){i.push(r.getVertex(e.id))})),a.inducedSubgraph(r,i)},dag2DependencyGraph:function(e){var t=a.transitiveClosure(e),r=a.skeleton(t);return n.each(t.vertices.values(),(function(e){for(var n=t.childrenOf([e]),i=0,a=1;i<n.length;i++)for(a=i+1;a<n.length;a++)r.addEdge(n[i].id,n[a].id,o.Edgetype.Undirected)})),r.setType("graph"),r},dependencyGraph2CPDAG:function(e){var t=new o;t.setType("pdag");var r=e.vertices.values();return n.each(r,(function(e){t.addVertex(e.cloneWithoutEdges())})),n.each(e.edges,(function(r){var n=e.neighboursOf([r.v1]),i=e.neighboursOf([r.v2]);n.push(r.v1),i.push(r.v2);var a=n.intersect(i);n.length==i.length&&a.length==n.length?t.addEdge(r.v1.id,r.v2.id,o.Edgetype.Undirected):a.length==n.length?t.addEdge(r.v1.id,r.v2.id):a.length==i.length&&t.addEdge(r.v2.id,r.v1.id)})),t},pathPairGraph:function(e){var t,r,n=e.topologicalOrdering(),i=new o;i.addVertex(new o.Vertex({id:"s"})),i.setSource(i.getVertex("s"));var a=e.vertices.values().pluck("id");for(a.sort((function(e,t){return n[e]<n[t]?-1:1})),t=0;t<a.length;t++){for(var s=a[t]+":",d=0;d<a.length;d++)i.addVertex(new o.Vertex({id:s+a[d]}));i.addEdge(new o.Edge.Directed({v1:i.getVertex("s"),v2:i.getVertex(s+a[t])}))}for(r=0;r<e.edges.length;r++){var u=e.edges[r];for(t=0;t<u.v2.topological_index-1;t++)i.quickAddDirectedEdge(i.getVertex(a[t]+":"+u.v1.id),i.getVertex(a[t]+":"+u.v2.id)),i.quickAddDirectedEdge(i.getVertex(u.v1.id+":"+a[t]),i.getVertex(u.v2.id+":"+a[t]))}return e.getSource().topological_index<e.getTarget().topological_index?i.setTarget(e.getSource().id+":"+e.getTarget().id):i.setTarget(e.getTarget().id+":"+e.getSource().id),i},cgToRcg:function(e){var t=new o;t.setType(e.getType()),n.each(e.vertices.values(),(function(e){t.addVertex(e.cloneWithoutEdges())}));var r=!1;function i(e,t){return n.some(e.getAdjacentNodes(),(function(e){return e.id==t.id}))}function a(e,s){r||n.each(s.getNeighbours(),(function(d){if(e.id!=d.id&&!i(e,d)){if(n.each(t.getVertex(d.id).getParents(),(function(t){e.id==t.id||s.id==t.id||i(s,t)||(r=!0)})),r)return;t.getEdge(s.id,d.id,o.Edgetype.Directed)||(t.addEdge(s.id,d.id,o.Edgetype.Directed),a(s,d))}}))}return n.each(e.getEdges(),(function(e){e.directed==o.Edgetype.Directed&&t.addEdge(e.v1.id,e.v2.id,o.Edgetype.Directed)})),n.each(e.getEdges(),(function(e){e.directed==o.Edgetype.Directed&&a(e.v1,e.v2)})),r?null:(n.each(e.getEdges(),(function(e){e.directed==o.Edgetype.Directed||i(t.getVertex(e.v1.id),e.v2)||t.addEdge(e.v1.id,e.v2.id,e.directed)})),e.copyAllPropertiesTo(t),t)},contractComponents:function(e,t,r){var a=[!1,!1,!1];"boolean"==typeof r?a=a.map((function(){return r})):n.isArray(r)&&n.each(r,(function(e){a[e]=!0}));var s=new i,d=new o;return d.setType(e.getType()),n.each(t,(function(e){var t=e.map((function(e){return"string"==typeof e?e:e.id})),r=d.addVertex(t.sort().join(","));n.each(t,(function(e){s.set(e,r)}))})),n.each(e.getVertices(),(function(e){if(!s.contains(e.id)){var t=d.addVertex(e.cloneWithoutEdges());s.set(e.id,t)}})),n.each(e.getEdges(),(function(e){var t=s.get(e.v1.id),r=s.get(e.v2.id);(t!=r||a[e.directed])&&d.addEdge(t,r,e.directed)})),n.each(e.managed_vertex_property_names,(function(t){n.each(e.getVerticesWithProperty(t),(function(e){d.addVertexProperty(s.get(e.id),t)}))})),d},contractLatentNodes:function(e){var t=e.clone();return n.each(t.getLatentNodes(),(function(e){t.contractVertex(e)})),t},markovEquivalentDags:function(e,t){var r=this.dagToCpdag(e);e=r.clone();var n=[];return function i(){if(!(s.containsCycle(e)||n.length>=t)){for(var d=e.getEdges(),u=0;u<d.length;u++)if(d[u].directed==o.Edgetype.Undirected)return e.changeEdge(d[u],o.Edgetype.Directed),i(),e.reverseEdge(d[u]),i(),e.reverseEdge(d[u]),void e.changeEdge(d[u],o.Edgetype.Undirected);var c=a.dagToCpdag(e);if(s.equals(r,c)){var g=e.clone();g.setType("dag"),n.push(g)}}}(),n},pagToPdag:function(e){if("pag"==e.getType()){for(var t=(e=e.clone()).getEdges(),r=0;r<t.length;r++)t[r].directed==o.Edgetype.Unspecified&&e.changeEdge(t[r],o.Edgetype.Undirected),t[r].directed==o.Edgetype.PartDirected&&e.changeEdge(t[r],o.Edgetype.Directed),t[r].directed==o.Edgetype.PartUndirected&&e.changeEdge(t[r],o.Edgetype.Undirected);return e.setType("pdag"),e}}};e.exports=a;const s=r(326);a.simpleOpenPaths=function(e,t){e.getType();var r,i={},d={},u={},c={};if(e.getType(),"dag"!=e.getType())return"illegal graph type!";if(0==e.getSources().length||0==e.getTargets().length)return(e=new o).setType(e.getType()),e;e=e.clone(),t||(t=n.union(e.getAdjustedNodes(),e.getSelectedNodes())),(r=a.ancestorGraph(e)).getVertex(t),n.each(e.ancestorsOf(e.getSources(),(function(){e.clearTraversalInfo(),n.each(t,(function(e){o.Vertex.markAsVisited(e)}))})),(function(e){i[e.id]=!0})),n.each(e.ancestorsOf(e.getTargets(),(function(){e.clearTraversalInfo(),n.each(t,(function(e){o.Vertex.markAsVisited(e)}))})),(function(e){d[e.id]=!0})),n.each(e.ancestorsOf(t),(function(e){u[e.id]=!0}));var g=e.ancestorsOf(e.getTargets(),(function(){var t=e.ancestorsOf(s.nodesThatViolateAdjustmentCriterion(e));e.clearTraversalInfo(),n.each(t,(function(e){o.Vertex.markAsVisited(e)}))}));n.intersection(e.childrenOf(e.getSources()),g),e.clearTraversalInfo(),n.each(t,(function(e){n.each(e.getChildren(),(function(t){r.deleteEdge(e,t,o.Edgetype.Directed)}))})),n.each(r.edges.slice(),(function(e){u[e.v1.id]&&u[e.v2.id]&&(r.deleteEdge(e.v1,e.v2,e.directed),r.addEdge(e.v1,e.v2,o.Edgetype.Undirected))}));for(var l=s.topologicalOrdering(r),f=s.bottleneckNumbers(e,l),h=s.connectedComponents(r),p=function(e){return u[e.id]&&void 0!==l[e.id]&&void 0!==f[e.id]},v=r.getVertices(),y=0;y<h.length;y++){var m=h[y];if(m.length>1){var x=n.filter(m,p),E=a.inducedSubgraph(r,m),V=[],_=[];n.each(x,(function(e){_.push(f[e.id])})),n.each(n.uniq(_),(function(e){E.addVertex("__START"+e),E.addVertex("__END"+e),V.push(E.addEdge("__START"+e,"__END"+e,o.Edgetype.Undirected))})),n.each(x,(function(e){E.addEdge("__END"+f[e.id],e.id,o.Edgetype.Undirected)}));var b=s.biconnectedComponents(E),A=s.blockTree(E,b);n.each(V,(function(e){o.Vertex.markAsVisited(A.getVertex("C"+e.component_index))})),A.visitAllPathsBetweenVisitedNodesInTree();var S=n.filter(A.vertices.values(),(function(e){return"C"==e.id.charAt(0)&&e.traversal_info.visited}));n.each(S,(function(e){var t=parseInt(e.id.substring(1)),i=b[t-1];(i.length>1||0!==i[0].v1.id.indexOf("__")||0!==i[0].v2.id.indexOf("__"))&&n.each(b[t-1],(function(e){var t=r.getVertex(e.v1.id);t&&(c[t.id]=!0);var n=r.getVertex(e.v2.id);n&&(c[n.id]=!0)}))}))}}n.each(v,(function(e){r.isSource(e)?(d[e.id]?o.Vertex.markAsNotVisited(e):o.Vertex.markAsVisited(e),c[e.id]=!0):r.isTarget(e)?(i[e.id]?o.Vertex.markAsNotVisited(e):o.Vertex.markAsVisited(e),c[e.id]=!0):o.Vertex.markAsNotVisited(e)}));var T=n.filter(v,(function(e){return c[e.id]||void 0!==l[e.id]&&l[e.id]===f[e.id]})),w=r.descendantsOf(T,(function(){}));n.each(w,(function(e){c[e.id]=!0})),n.each(v,(function(e){e.id in c||r.deleteVertex(e)}));var k=[];return n.each(r.edges,(function(e){e.directed==o.Edgetype.Undirected&&k.push(e)})),n.each(k,(function(t){r.deleteEdge(t.v1,t.v2,o.Edgetype.Undirected),e.getEdge(t.v1.id,t.v2.id,o.Edgetype.Directed)?r.addEdge(t.v1.id,t.v2.id,o.Edgetype.Directed):r.addEdge(t.v2.id,t.v1.id,o.Edgetype.Directed)})),r},a.activeBiasGraphWithoutSelectionNodes=function(e,t){var r,i,d,u,c,g=e.getType(),l={},f={},h={},p=function(){};if(e.getType(),i=a.canonicalDag(e),e=i.g,(t=n.defaults(t||{},{direct:!1})).X&&n.each(t.X,(function(t){e.addSource(e.getVertex(t))})),t.Y&&n.each(t.Y,(function(t){e.addTarget(e.getVertex(t))})),0==e.getSources().length||0==e.getTargets().length)return(e=new o).setType(e.getType()),e;r=a.ancestorGraph(e),c=n.union(e.getAdjustedNodes(),e.getSelectedNodes()),n.union(r.getAdjustedNodes(),r.getSelectedNodes()),n.each(e.ancestorsOf(e.getSources(),(function(){e.clearTraversalInfo(),n.each(c,(function(e){o.Vertex.markAsVisited(e)}))})),(function(e){l[e.id]=!0})),n.each(e.ancestorsOf(c),(function(e){f[e.id]=!0}));var v=e.ancestorsOf(e.getTargets(),(function(){var t=e.ancestorsOf(s.nodesThatViolateAdjustmentCriterion(e));e.clearTraversalInfo(),n.each(t,(function(e){o.Vertex.markAsVisited(e)}))})),y=n.intersection(e.childrenOf(e.getSources()),v);e.clearTraversalInfo(),t.direct?n.each(e.getSources(),(function(t){n.each(t.outgoingEdges,(function(t){(e.isSource(t.v2)||e.isTarget(t.v2))&&r.deleteEdge(t.v1,t.v2,o.Edgetype.Directed)}))})):n.each(e.getSources(),(function(t){n.each(t.outgoingEdges,(function(t){(e.isSource(t.v2)||n.contains(y,t.v2))&&r.deleteEdge(t.v1,t.v2,o.Edgetype.Directed)}))})),n.each(c,(function(e){n.each(e.getChildren(),(function(t){r.deleteEdge(e,t,o.Edgetype.Directed)}))})),n.each(r.edges.slice(),(function(e){f[e.v1.id]&&f[e.v2.id]&&(r.deleteEdge(e.v1,e.v2,e.directed),r.addEdge(e.v1,e.v2,o.Edgetype.Undirected))}));for(var m=s.topologicalOrdering(r),x=s.bottleneckNumbers(e,m),E=s.connectedComponents(r),V=function(e){return f[e.id]&&void 0!==m[e.id]&&void 0!==x[e.id]},_=r.getVertices(),b=0;b<E.length;b++){var A=E[b];if(A.length>1){var S=n.filter(A,V),T=a.inducedSubgraph(r,A),w=[],k=[];n.each(S,(function(e){k.push(x[e.id])})),n.each(n.uniq(k),(function(e){T.addVertex("__START"+e),T.addVertex("__END"+e),w.push(T.addEdge("__START"+e,"__END"+e,o.Edgetype.Undirected))})),n.each(S,(function(e){T.addEdge("__END"+x[e.id],e.id,o.Edgetype.Undirected)}));var C=s.biconnectedComponents(T),N=s.blockTree(T,C);n.each(w,(function(e){o.Vertex.markAsVisited(N.getVertex("C"+e.component_index))})),N.visitAllPathsBetweenVisitedNodesInTree();var j=n.filter(N.vertices.values(),(function(e){return"C"==e.id.charAt(0)&&e.traversal_info.visited}));n.each(j,(function(e){var t=parseInt(e.id.substring(1)),i=C[t-1];(i.length>1||0!==i[0].v1.id.indexOf("__")||0!==i[0].v2.id.indexOf("__"))&&n.each(C[t-1],(function(e){var t=r.getVertex(e.v1.id);t&&(h[t.id]=!0);var n=r.getVertex(e.v2.id);n&&(h[n.id]=!0)}))}))}}n.each(_,(function(e){r.isSource(e)?(o.Vertex.markAsVisited(e),h[e.id]=!0):r.isTarget(e)?(l[e.id]?o.Vertex.markAsNotVisited(e):o.Vertex.markAsVisited(e),h[e.id]=!0):o.Vertex.markAsNotVisited(e)}));var O=n.filter(_,(function(e){return h[e.id]||void 0!==m[e.id]&&m[e.id]===x[e.id]})),P=r.descendantsOf(O,p);n.each(P,(function(e){h[e.id]=!0}));var D=n.reject(s.dpcp(e),(function(e){return!h[e.id]})),I=e.ancestorsOf(s.nodesThatViolateAdjustmentCriterionWithoutIntermediates(e));e.clearTraversalInfo(),n.each(D,o.Vertex.markAsVisited),n.each(D,(function(t){o.Vertex.markAsNotVisited(t),n.chain(I).intersection(e.descendantsOf([t],p)).each((function(e){h[e.id]=!0})),o.Vertex.markAsVisited(t)}),e),n.each(e.getTargets(),(function(t){n.each(t.outgoingEdges,(function(t){e.isTarget(t.v2)&&!n.contains(I,t.v2)&&r.deleteEdge(t.v1,t.v2,t.directed)}))})),t.direct&&n.each(y,(function(e){h[e.id]=!0})),n.each(_,(function(e){void 0===h[e.id]&&r.deleteVertex(e)}));var M=[];n.each(r.edges,(function(e){e.directed==o.Edgetype.Undirected&&M.push(e)})),n.each(M,(function(t){r.deleteEdge(t.v1,t.v2,o.Edgetype.Undirected),e.getEdge(t.v1.id,t.v2.id,o.Edgetype.Directed)?r.addEdge(t.v1.id,t.v2.id,o.Edgetype.Directed):r.addEdge(t.v2.id,t.v1.id,o.Edgetype.Directed)}));var B=n.pluck(i.L,"id"),U=n.pluck(i.S,"id");if(d=[],u=[],n.each(B,(function(e){var t=r.getVertex(e);t&&d.push(t)})),n.each(U,(function(e){var t=r.getVertex(e);t&&u.push(t)})),t.direct){n.each(c,o.Vertex.markAsVisited);var F=this.inducedSubgraph(e,n.intersection(e.descendantsOf(e.getSources(),p),e.ancestorsOf(e.getTargets())));n.each(F.edges,(function(e){e.directed!=o.Edgetype.Directed||(F.isSource(e.v1)||F.isTarget(e.v1))&&(F.isSource(e.v2)||F.isTarget(e.v2))||(r.getVertex(e.v1.id)||r.addVertex(e.v1.id),r.getVertex(e.v2.id)||r.addVertex(e.v2.id),r.addEdge(e.v1.id,e.v2.id,o.Edgetype.Directed))}))}return(e=a.decanonicalize(r,d,u)).setType(g),e}},264:e=>{function t(){this.kv={}}Object.assign(t.prototype,{contains:function(e){return this.kv.hasOwnProperty(e)},get:function(e){return this.kv[e]},set:function(e,t){this.kv[e]=t},unset:function(e){delete this.kv[e]},values:function(){return Object.values(this.kv)},keys:function(){return Object.keys(this.kv)},size:function(){return Object.keys(this.kv).length}}),e.exports=t},810:(e,t,r)=>{const n=r(50);function i(e){var t;if(n.isArray(e))t=e;else if(n.isNumber(e))t=[e];else if(n.isString(e))t=o.parse(e);else{if(!n.isUndefined(e))throw"Invalid MPoly constructor value: "+e;t=[]}return t.__proto__=i.prototype,t}i.prototype=Object.create(Array.prototype),i.prototype.constructor=i,i.prototype.add=function(e){o.assertIsMPoly(e);for(var t=o.createEmptyMPoly(this.length+e.length),r=0,n=0,i=0;r<this.length&&n<e.length;i++){var a=o.compareVariableOrder(this[r],e[n]);0==a?(t[i]=this[r].slice(),t[i][0]+=e[n][0],0==t[i][0]&&i--,r++,n++):a<0?(t[i]=this[r],r++):(t[i]=e[n],n++)}for(;r<this.length;r++,i++)t[i]=this[r];for(;n<e.length;n++,i++)t[i]=e[n];return i<t.length&&(t=t.slice(0,i)),t},i.prototype.negate=function(){for(var e=o.createEmptyMPoly(this.length),t=0;t<this.length;t++)e[t]=this[t].slice(),e[t][0]=-e[t][0];return e},i.prototype.sub=function(e){return this.add(e.negate())},i.prototype.mul=function(e){o.assertIsMPoly(e);for(var t=new i,r=0;r<this.length;r++)for(var n=0;n<e.length;n++)t.push(o.mulSubTerms(this[r],e[n]));return o.sortAndNormalizeMPoly(t)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isZero=function(){return 0==this.length},i.prototype.toString=function(e){var t="PLUS"in(e=e||{})?e.PLUS:" + ",r="SUB"in e?e.SUB:" - ",n="TIMES"in e?e.TIMES:" ",i="POWER"in e?e.POWER:"^";return 0==this.length?"0":this.map((function(e,a){0==e.length&&(e=[0]);var s=e[0],d=a>0?t:"",u=[];for(s<0&&(s=-s,d=a>0?[r]:[r.trim()]),1==s&&1!=e.length||u.push(s.toString()),a=1;a<e.length;a+=2){var c=1==e[a+1]?"":i+e[a+1];u.push(o.variableToString(e[a])+c)}return d+u.join(n)})).join("")},i.prototype.slice=function(e,t){var r=Array.prototype.slice.call(this,e,t);return r.__proto__=i.prototype,r},i.prototype.eval=function(e){var t;if(n.isArray(e))t=e;else for(var r in t=new Array(o.variableCount+1),e)t[o.variableFromString(r,!0)]=e[r];for(var a=null,s=0;s<this.length;s++){var d=this[s],u=new Array(d.length);u[0]=d[0];for(var c=1,g=null,l=1;l<d.length;l+=2)if(d[l]in t)for(var f=t[d[l]],h=0;h<d[l+1];h++)g=null!==g?g.mul(f):f;else u[c]=d[l],u[c+1]=d[l+1],c+=2;c!=u.length&&(u=u.slice(0,c));var p=i([u]);g=null!==g?g.mul(p):p,a=null!==a?a.add(g):g}return null===a&&(a=i.zero),a},i.prototype.evalToBigInt=function(e,t){var r={};return t||(t={}),r.number="number"in t?t.number:function(e){return BigInt(e)},"add"in t&&(r.add=t.add),"mul"in t&&(r.mul=t.mul),this.evalToNumber(e,r)},i.prototype.evalToNumber=function(e,t){var r;if(n.isArray(e))r=e;else for(var i in r=new Array(o.variableCount+1),e)r[o.variableFromString(i,!0)]=e[i];t||(t={});for(var a=("number"in t?t.number:function(e){return e}),s=("mul"in t?t.mul:function(e,t){return e*t}),d=("add"in t?t.add:function(e,t){return e+t}),u=a(0),c=0;c<this.length;c++){for(var g=this[c],l=a(g[0]),f=1;f<g.length;f+=2){if(!(g[f]in r))throw"No value given for "+o.variableToString(g[f]);for(var h=r[g[f]],p=0;p<g[f+1];p++)l=s(l,h)}u=d(u,l)}return u},i.mul=function(){switch(arguments.length){case 0:return i.one;case 1:return arguments[0];default:return n.reduce(arguments,(function(e,t){return e.mul(t)}))}},i.add=function(){switch(arguments.length){case 0:return i.zero;case 1:return arguments[0];default:return n.reduce(arguments,(function(e,t){return e.add(t)}))}};var o={createEmptyMPoly:function(e){var t=new Array(e);return t.__proto__=i.prototype,t},parseSubTerm:function(e,t,r){if(0==(e=e.trim()).length)throw"Empty sum term in "+r;var n=/^([0-9.-]+([eE][0-9]+($|\s*[*]|\s+)|\s*[*]?))(.*)$/.exec(e.trim()),i=1;if(n&&("-"==(i=n[1].replace(/[*]/,"").trim())&&(i=-1),i*=1,e=n[4].trim()),t&&(i=-i),n&&0==e.length)return[i];var a,s=e.replace(/\s*\^\s*/g,"^").split(/\s*[*]\s*|\s+/g);for(s=s.map((function(e){if(0==(e=e.trim()).length)throw"Empty monomial in "+r;var t=e.indexOf("^");return t>=0?[e.slice(0,t),1*e.slice(t+1)]:[e,1]})).sort((function(e,t){return e[0]<t[0]?-1:e[0]>t[0]?1:0})),a=1;a<s.length;a++)s[a-1][0]==s[a][0]&&(s[a-1][1]+=s[a][1],s.splice(a,1),a--);var d=new Array(2*s.length+1);for(d[0]=i,a=0;a<s.length;a++){if(/[+*^-]/.test(s[a][0]))throw"Monomials cannot contain math symbols. Separate monomials by space or *";d[2*a+1]=o.variableFromString(s[a][0]),d[2*a+2]=s[a][1]}return d},parse:function(e){if(e.indexOf("(")>=0||e.indexOf(")")>=0)throw"Parentheses are not supported";var t=e.trim().split(/\s*[+]\s*|\s*([-])\s*/g);!t[0]&&t[1]&&(t[0]="0");for(var r=o.createEmptyMPoly(Math.ceil(t.length/2)),n=0;n<r.length;n++)r[n]=this.parseSubTerm(t[2*n],t[2*n-1],e);return o.sortAndNormalizeMPoly(r)},assertIsMPoly:function(e){if(!(e instanceof i))throw"Expected multivariate polynomial, got: "+e},compareVariableOrder:function(e,t){var r,n=Math.min(e.length,t.length);for(r=1;r<n;r++)if(e[r]!=t[r])return e[r]<t[r]?-1:1;return e.length<t.length?-1:e.length>t.length?1:0},mulSubTerms:function(e,t){var r=new Array(e.length+t.length-1);r[0]=e[0]*t[0];for(var n=1,i=1,o=1;n<e.length&&i<t.length;o+=2)e[n]==t[i]?(r[o]=e[n],r[o+1]=e[n+1]+t[i+1],n+=2,i+=2):e[n]<t[i]?(r[o]=e[n],r[o+1]=e[n+1],n+=2):(r[o]=t[i],r[o+1]=t[i+1],i+=2);for(;n<e.length;n++,o++)r[o]=e[n];for(;i<t.length;i++,o++)r[o]=t[i];return o<r.length&&(r=r.slice(0,o)),r},sortAndNormalizeMPoly:function(e){var t=e.sort(o.compareVariableOrder);if(0==t.length)return t;var r=0;if(0!=t[0].length&&0!=t[0][0])for(r=1;r<t.length&&0!=t[r].length&&0!=t[r][0]&&0!=o.compareVariableOrder(t[r-1],t[r]);r++);if(r==t.length)return t;e=t,t=o.createEmptyMPoly(e.length);for(var n=0;n<r;n++)t[n]=e[n];for(;r<e.length&&(0==e[r].length||0==e[r][0]);r++);for(;r<e.length;r++)n>=1&&0==o.compareVariableOrder(t[n-1],e[r])?(t[n-1][0]+=e[r][0],0==t[n-1][0]&&n--):e[r].length>0&&0!=e[r][0]&&(t[n]=e[r],n++);return t.slice(0,n)},variableCount:0,variableToStringMap:["empty"],stringToVariableMap:{},variableToString:function(e){if(e in o.variableToStringMap)return o.variableToStringMap[e];throw"Unknown variable ID: "+e},variableFromString:function(e,t){if(e in o.stringToVariableMap)return o.stringToVariableMap[e];if(t)throw"Unknown variable: "+e;return o.variableCount++,o.stringToVariableMap[e]=o.variableCount,o.variableToStringMap[o.variableCount]=e,o.variableCount}};i.zero=i("0"),i.one=i("1"),i.minusOne=i("-1"),e.exports={MPoly:i,MPolyHelper:o}},138:(e,t,r)=>{const n=r(341),i=r(326),o=r(862),a=r(281),s=r(333),{MPoly:d}=r(810),u=r(57);e.exports={Graph:n,GraphSerializer:o,GraphParser:a,GraphAnalyzer:i,GraphLayouter:s,MPoly:d,GraphTransformer:u}},50:(e,t,r)=>{"use strict";r.r(t),r.d(t,{VERSION:()=>i,after:()=>Dt,all:()=>er,allKeys:()=>ve,any:()=>tr,assign:()=>De,before:()=>It,bind:()=>_t,bindAll:()=>St,chain:()=>mt,chunk:()=>Br,clone:()=>Ue,collect:()=>Ht,compact:()=>Tr,compose:()=>Pt,constant:()=>Z,contains:()=>rr,countBy:()=>vr,create:()=>Be,debounce:()=>Nt,default:()=>Gr,defaults:()=>Ie,defer:()=>kt,delay:()=>wt,detect:()=>Wt,difference:()=>kr,drop:()=>Ar,each:()=>Xt,escape:()=>at,every:()=>er,extend:()=>Pe,extendOwn:()=>De,filter:()=>Zt,find:()=>Wt,findIndex:()=>Ft,findKey:()=>Bt,findLastIndex:()=>Rt,findWhere:()=>Kt,first:()=>br,flatten:()=>wr,foldl:()=>$t,foldr:()=>Qt,forEach:()=>Xt,functions:()=>je,get:()=>qe,groupBy:()=>hr,has:()=>ze,head:()=>br,identity:()=>We,include:()=>rr,includes:()=>rr,indexBy:()=>pr,indexOf:()=>qt,initial:()=>_r,inject:()=>$t,intersection:()=>Or,invert:()=>Ne,invoke:()=>nr,isArguments:()=>Y,isArray:()=>K,isArrayBuffer:()=>B,isBoolean:()=>k,isDataView:()=>W,isDate:()=>P,isElement:()=>C,isEmpty:()=>de,isEqual:()=>pe,isError:()=>I,isFinite:()=>$,isFunction:()=>R,isMap:()=>Ae,isMatch:()=>ue,isNaN:()=>Q,isNull:()=>T,isNumber:()=>O,isObject:()=>S,isRegExp:()=>D,isSet:()=>Te,isString:()=>j,isSymbol:()=>M,isTypedArray:()=>ie,isUndefined:()=>w,isWeakMap:()=>Se,isWeakSet:()=>we,iteratee:()=>$e,keys:()=>se,last:()=>Sr,lastIndexOf:()=>zt,map:()=>Ht,mapObject:()=>Ze,matcher:()=>Ke,matches:()=>Ke,max:()=>ar,memoize:()=>Tt,methods:()=>je,min:()=>sr,mixin:()=>Fr,negate:()=>Ot,noop:()=>Je,now:()=>nt,object:()=>Ir,omit:()=>Vr,once:()=>Mt,pairs:()=>Ce,partial:()=>Vt,partition:()=>yr,pick:()=>Er,pluck:()=>ir,property:()=>Xe,propertyOf:()=>et,random:()=>rt,range:()=>Mr,reduce:()=>$t,reduceRight:()=>Qt,reject:()=>Jt,rest:()=>Ar,restArguments:()=>A,result:()=>pt,sample:()=>cr,select:()=>Zt,shuffle:()=>gr,size:()=>mr,some:()=>tr,sortBy:()=>lr,sortedIndex:()=>Lt,tail:()=>Ar,take:()=>br,tap:()=>Fe,template:()=>ht,templateSettings:()=>dt,throttle:()=>Ct,times:()=>tt,toArray:()=>ur,toPath:()=>Re,transpose:()=>Pr,unescape:()=>st,union:()=>jr,uniq:()=>Nr,unique:()=>Nr,uniqueId:()=>yt,unzip:()=>Pr,values:()=>ke,where:()=>or,without:()=>Cr,wrap:()=>jt,zip:()=>Dr});var n={};r.r(n),r.d(n,{VERSION:()=>i,after:()=>Dt,all:()=>er,allKeys:()=>ve,any:()=>tr,assign:()=>De,before:()=>It,bind:()=>_t,bindAll:()=>St,chain:()=>mt,chunk:()=>Br,clone:()=>Ue,collect:()=>Ht,compact:()=>Tr,compose:()=>Pt,constant:()=>Z,contains:()=>rr,countBy:()=>vr,create:()=>Be,debounce:()=>Nt,default:()=>Rr,defaults:()=>Ie,defer:()=>kt,delay:()=>wt,detect:()=>Wt,difference:()=>kr,drop:()=>Ar,each:()=>Xt,escape:()=>at,every:()=>er,extend:()=>Pe,extendOwn:()=>De,filter:()=>Zt,find:()=>Wt,findIndex:()=>Ft,findKey:()=>Bt,findLastIndex:()=>Rt,findWhere:()=>Kt,first:()=>br,flatten:()=>wr,foldl:()=>$t,foldr:()=>Qt,forEach:()=>Xt,functions:()=>je,get:()=>qe,groupBy:()=>hr,has:()=>ze,head:()=>br,identity:()=>We,include:()=>rr,includes:()=>rr,indexBy:()=>pr,indexOf:()=>qt,initial:()=>_r,inject:()=>$t,intersection:()=>Or,invert:()=>Ne,invoke:()=>nr,isArguments:()=>Y,isArray:()=>K,isArrayBuffer:()=>B,isBoolean:()=>k,isDataView:()=>W,isDate:()=>P,isElement:()=>C,isEmpty:()=>de,isEqual:()=>pe,isError:()=>I,isFinite:()=>$,isFunction:()=>R,isMap:()=>Ae,isMatch:()=>ue,isNaN:()=>Q,isNull:()=>T,isNumber:()=>O,isObject:()=>S,isRegExp:()=>D,isSet:()=>Te,isString:()=>j,isSymbol:()=>M,isTypedArray:()=>ie,isUndefined:()=>w,isWeakMap:()=>Se,isWeakSet:()=>we,iteratee:()=>$e,keys:()=>se,last:()=>Sr,lastIndexOf:()=>zt,map:()=>Ht,mapObject:()=>Ze,matcher:()=>Ke,matches:()=>Ke,max:()=>ar,memoize:()=>Tt,methods:()=>je,min:()=>sr,mixin:()=>Fr,negate:()=>Ot,noop:()=>Je,now:()=>nt,object:()=>Ir,omit:()=>Vr,once:()=>Mt,pairs:()=>Ce,partial:()=>Vt,partition:()=>yr,pick:()=>Er,pluck:()=>ir,property:()=>Xe,propertyOf:()=>et,random:()=>rt,range:()=>Mr,reduce:()=>$t,reduceRight:()=>Qt,reject:()=>Jt,rest:()=>Ar,restArguments:()=>A,result:()=>pt,sample:()=>cr,select:()=>Zt,shuffle:()=>gr,size:()=>mr,some:()=>tr,sortBy:()=>lr,sortedIndex:()=>Lt,tail:()=>Ar,take:()=>br,tap:()=>Fe,template:()=>ht,templateSettings:()=>dt,throttle:()=>Ct,times:()=>tt,toArray:()=>ur,toPath:()=>Re,transpose:()=>Pr,unescape:()=>st,union:()=>jr,uniq:()=>Nr,unique:()=>Nr,uniqueId:()=>yt,unzip:()=>Pr,values:()=>ke,where:()=>or,without:()=>Cr,wrap:()=>jt,zip:()=>Dr});var i="1.13.6",o="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},a=Array.prototype,s=Object.prototype,d="undefined"!=typeof Symbol?Symbol.prototype:null,u=a.push,c=a.slice,g=s.toString,l=s.hasOwnProperty,f="undefined"!=typeof ArrayBuffer,h="undefined"!=typeof DataView,p=Array.isArray,v=Object.keys,y=Object.create,m=f&&ArrayBuffer.isView,x=isNaN,E=isFinite,V=!{toString:null}.propertyIsEnumerable("toString"),_=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],b=Math.pow(2,53)-1;function A(e,t){return t=null==t?e.length-1:+t,function(){for(var r=Math.max(arguments.length-t,0),n=Array(r),i=0;i<r;i++)n[i]=arguments[i+t];switch(t){case 0:return e.call(this,n);case 1:return e.call(this,arguments[0],n);case 2:return e.call(this,arguments[0],arguments[1],n)}var o=Array(t+1);for(i=0;i<t;i++)o[i]=arguments[i];return o[t]=n,e.apply(this,o)}}function S(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function T(e){return null===e}function w(e){return void 0===e}function k(e){return!0===e||!1===e||"[object Boolean]"===g.call(e)}function C(e){return!(!e||1!==e.nodeType)}function N(e){var t="[object "+e+"]";return function(e){return g.call(e)===t}}const j=N("String"),O=N("Number"),P=N("Date"),D=N("RegExp"),I=N("Error"),M=N("Symbol"),B=N("ArrayBuffer");var U=N("Function"),F=o.document&&o.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof F&&(U=function(e){return"function"==typeof e||!1});const R=U,L=N("Object");var G=h&&L(new DataView(new ArrayBuffer(8))),q="undefined"!=typeof Map&&L(new Map),z=N("DataView");const W=G?function(e){return null!=e&&R(e.getInt8)&&B(e.buffer)}:z,K=p||N("Array");function X(e,t){return null!=e&&l.call(e,t)}var H=N("Arguments");!function(){H(arguments)||(H=function(e){return X(e,"callee")})}();const Y=H;function $(e){return!M(e)&&E(e)&&!isNaN(parseFloat(e))}function Q(e){return O(e)&&x(e)}function Z(e){return function(){return e}}function J(e){return function(t){var r=e(t);return"number"==typeof r&&r>=0&&r<=b}}function ee(e){return function(t){return null==t?void 0:t[e]}}const te=ee("byteLength"),re=J(te);var ne=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;const ie=f?function(e){return m?m(e)&&!W(e):re(e)&&ne.test(g.call(e))}:Z(!1),oe=ee("length");function ae(e,t){t=function(e){for(var t={},r=e.length,n=0;n<r;++n)t[e[n]]=!0;return{contains:function(e){return!0===t[e]},push:function(r){return t[r]=!0,e.push(r)}}}(t);var r=_.length,n=e.constructor,i=R(n)&&n.prototype||s,o="constructor";for(X(e,o)&&!t.contains(o)&&t.push(o);r--;)(o=_[r])in e&&e[o]!==i[o]&&!t.contains(o)&&t.push(o)}function se(e){if(!S(e))return[];if(v)return v(e);var t=[];for(var r in e)X(e,r)&&t.push(r);return V&&ae(e,t),t}function de(e){if(null==e)return!0;var t=oe(e);return"number"==typeof t&&(K(e)||j(e)||Y(e))?0===t:0===oe(se(e))}function ue(e,t){var r=se(t),n=r.length;if(null==e)return!n;for(var i=Object(e),o=0;o<n;o++){var a=r[o];if(t[a]!==i[a]||!(a in i))return!1}return!0}function ce(e){return e instanceof ce?e:this instanceof ce?void(this._wrapped=e):new ce(e)}function ge(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,te(e))}ce.VERSION=i,ce.prototype.value=function(){return this._wrapped},ce.prototype.valueOf=ce.prototype.toJSON=ce.prototype.value,ce.prototype.toString=function(){return String(this._wrapped)};var le="[object DataView]";function fe(e,t,r,n){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var i=typeof e;return("function"===i||"object"===i||"object"==typeof t)&&he(e,t,r,n)}function he(e,t,r,n){e instanceof ce&&(e=e._wrapped),t instanceof ce&&(t=t._wrapped);var i=g.call(e);if(i!==g.call(t))return!1;if(G&&"[object Object]"==i&&W(e)){if(!W(t))return!1;i=le}switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return d.valueOf.call(e)===d.valueOf.call(t);case"[object ArrayBuffer]":case le:return he(ge(e),ge(t),r,n)}var o="[object Array]"===i;if(!o&&ie(e)){if(te(e)!==te(t))return!1;if(e.buffer===t.buffer&&e.byteOffset===t.byteOffset)return!0;o=!0}if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,s=t.constructor;if(a!==s&&!(R(a)&&a instanceof a&&R(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}n=n||[];for(var u=(r=r||[]).length;u--;)if(r[u]===e)return n[u]===t;if(r.push(e),n.push(t),o){if((u=e.length)!==t.length)return!1;for(;u--;)if(!fe(e[u],t[u],r,n))return!1}else{var c,l=se(e);if(u=l.length,se(t).length!==u)return!1;for(;u--;)if(!X(t,c=l[u])||!fe(e[c],t[c],r,n))return!1}return r.pop(),n.pop(),!0}function pe(e,t){return fe(e,t)}function ve(e){if(!S(e))return[];var t=[];for(var r in e)t.push(r);return V&&ae(e,t),t}function ye(e){var t=oe(e);return function(r){if(null==r)return!1;var n=ve(r);if(oe(n))return!1;for(var i=0;i<t;i++)if(!R(r[e[i]]))return!1;return e!==_e||!R(r[me])}}var me="forEach",xe=["clear","delete"],Ee=["get","has","set"],Ve=xe.concat(me,Ee),_e=xe.concat(Ee),be=["add"].concat(xe,me,"has");const Ae=q?ye(Ve):N("Map"),Se=q?ye(_e):N("WeakMap"),Te=q?ye(be):N("Set"),we=N("WeakSet");function ke(e){for(var t=se(e),r=t.length,n=Array(r),i=0;i<r;i++)n[i]=e[t[i]];return n}function Ce(e){for(var t=se(e),r=t.length,n=Array(r),i=0;i<r;i++)n[i]=[t[i],e[t[i]]];return n}function Ne(e){for(var t={},r=se(e),n=0,i=r.length;n<i;n++)t[e[r[n]]]=r[n];return t}function je(e){var t=[];for(var r in e)R(e[r])&&t.push(r);return t.sort()}function Oe(e,t){return function(r){var n=arguments.length;if(t&&(r=Object(r)),n<2||null==r)return r;for(var i=1;i<n;i++)for(var o=arguments[i],a=e(o),s=a.length,d=0;d<s;d++){var u=a[d];t&&void 0!==r[u]||(r[u]=o[u])}return r}}const Pe=Oe(ve),De=Oe(se),Ie=Oe(ve,!0);function Me(e){if(!S(e))return{};if(y)return y(e);var t=function(){};t.prototype=e;var r=new t;return t.prototype=null,r}function Be(e,t){var r=Me(e);return t&&De(r,t),r}function Ue(e){return S(e)?K(e)?e.slice():Pe({},e):e}function Fe(e,t){return t(e),e}function Re(e){return K(e)?e:[e]}function Le(e){return ce.toPath(e)}function Ge(e,t){for(var r=t.length,n=0;n<r;n++){if(null==e)return;e=e[t[n]]}return r?e:void 0}function qe(e,t,r){var n=Ge(e,Le(t));return w(n)?r:n}function ze(e,t){for(var r=(t=Le(t)).length,n=0;n<r;n++){var i=t[n];if(!X(e,i))return!1;e=e[i]}return!!r}function We(e){return e}function Ke(e){return e=De({},e),function(t){return ue(t,e)}}function Xe(e){return e=Le(e),function(t){return Ge(t,e)}}function He(e,t,r){if(void 0===t)return e;switch(null==r?3:r){case 1:return function(r){return e.call(t,r)};case 3:return function(r,n,i){return e.call(t,r,n,i)};case 4:return function(r,n,i,o){return e.call(t,r,n,i,o)}}return function(){return e.apply(t,arguments)}}function Ye(e,t,r){return null==e?We:R(e)?He(e,t,r):S(e)&&!K(e)?Ke(e):Xe(e)}function $e(e,t){return Ye(e,t,1/0)}function Qe(e,t,r){return ce.iteratee!==$e?ce.iteratee(e,t):Ye(e,t,r)}function Ze(e,t,r){t=Qe(t,r);for(var n=se(e),i=n.length,o={},a=0;a<i;a++){var s=n[a];o[s]=t(e[s],s,e)}return o}function Je(){}function et(e){return null==e?Je:function(t){return qe(e,t)}}function tt(e,t,r){var n=Array(Math.max(0,e));t=He(t,r,1);for(var i=0;i<e;i++)n[i]=t(i);return n}function rt(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}ce.toPath=Re,ce.iteratee=$e;const nt=Date.now||function(){return(new Date).getTime()};function it(e){var t=function(t){return e[t]},r="(?:"+se(e).join("|")+")",n=RegExp(r),i=RegExp(r,"g");return function(e){return e=null==e?"":""+e,n.test(e)?e.replace(i,t):e}}const ot={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},at=it(ot),st=it(Ne(ot)),dt=ce.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var ut=/(.)^/,ct={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},gt=/\\|'|\r|\n|\u2028|\u2029/g;function lt(e){return"\\"+ct[e]}var ft=/^\s*(\w|\$)+\s*$/;function ht(e,t,r){!t&&r&&(t=r),t=Ie({},t,ce.templateSettings);var n=RegExp([(t.escape||ut).source,(t.interpolate||ut).source,(t.evaluate||ut).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(n,(function(t,r,n,a,s){return o+=e.slice(i,s).replace(gt,lt),i=s+t.length,r?o+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":n?o+="'+\n((__t=("+n+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),t})),o+="';\n";var a,s=t.variable;if(s){if(!ft.test(s))throw new Error("variable is not a bare identifier: "+s)}else o="with(obj||{}){\n"+o+"}\n",s="obj";o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{a=new Function(s,"_",o)}catch(e){throw e.source=o,e}var d=function(e){return a.call(this,e,ce)};return d.source="function("+s+"){\n"+o+"}",d}function pt(e,t,r){var n=(t=Le(t)).length;if(!n)return R(r)?r.call(e):r;for(var i=0;i<n;i++){var o=null==e?void 0:e[t[i]];void 0===o&&(o=r,i=n),e=R(o)?o.call(e):o}return e}var vt=0;function yt(e){var t=++vt+"";return e?e+t:t}function mt(e){var t=ce(e);return t._chain=!0,t}function xt(e,t,r,n,i){if(!(n instanceof t))return e.apply(r,i);var o=Me(e.prototype),a=e.apply(o,i);return S(a)?a:o}var Et=A((function(e,t){var r=Et.placeholder,n=function(){for(var i=0,o=t.length,a=Array(o),s=0;s<o;s++)a[s]=t[s]===r?arguments[i++]:t[s];for(;i<arguments.length;)a.push(arguments[i++]);return xt(e,n,this,this,a)};return n}));Et.placeholder=ce;const Vt=Et,_t=A((function(e,t,r){if(!R(e))throw new TypeError("Bind must be called on a function");var n=A((function(i){return xt(e,n,t,this,r.concat(i))}));return n})),bt=J(oe);function At(e,t,r,n){if(n=n||[],t||0===t){if(t<=0)return n.concat(e)}else t=1/0;for(var i=n.length,o=0,a=oe(e);o<a;o++){var s=e[o];if(bt(s)&&(K(s)||Y(s)))if(t>1)At(s,t-1,r,n),i=n.length;else for(var d=0,u=s.length;d<u;)n[i++]=s[d++];else r||(n[i++]=s)}return n}const St=A((function(e,t){var r=(t=At(t,!1,!1)).length;if(r<1)throw new Error("bindAll must be passed function names");for(;r--;){var n=t[r];e[n]=_t(e[n],e)}return e}));function Tt(e,t){var r=function(n){var i=r.cache,o=""+(t?t.apply(this,arguments):n);return X(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return r.cache={},r}const wt=A((function(e,t,r){return setTimeout((function(){return e.apply(null,r)}),t)})),kt=Vt(wt,ce,1);function Ct(e,t,r){var n,i,o,a,s=0;r||(r={});var d=function(){s=!1===r.leading?0:nt(),n=null,a=e.apply(i,o),n||(i=o=null)},u=function(){var u=nt();s||!1!==r.leading||(s=u);var c=t-(u-s);return i=this,o=arguments,c<=0||c>t?(n&&(clearTimeout(n),n=null),s=u,a=e.apply(i,o),n||(i=o=null)):n||!1===r.trailing||(n=setTimeout(d,c)),a};return u.cancel=function(){clearTimeout(n),s=0,n=i=o=null},u}function Nt(e,t,r){var n,i,o,a,s,d=function(){var u=nt()-i;t>u?n=setTimeout(d,t-u):(n=null,r||(a=e.apply(s,o)),n||(o=s=null))},u=A((function(u){return s=this,o=u,i=nt(),n||(n=setTimeout(d,t),r&&(a=e.apply(s,o))),a}));return u.cancel=function(){clearTimeout(n),n=o=s=null},u}function jt(e,t){return Vt(t,e)}function Ot(e){return function(){return!e.apply(this,arguments)}}function Pt(){var e=arguments,t=e.length-1;return function(){for(var r=t,n=e[t].apply(this,arguments);r--;)n=e[r].call(this,n);return n}}function Dt(e,t){return function(){if(--e<1)return t.apply(this,arguments)}}function It(e,t){var r;return function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=null),r}}const Mt=Vt(It,2);function Bt(e,t,r){t=Qe(t,r);for(var n,i=se(e),o=0,a=i.length;o<a;o++)if(t(e[n=i[o]],n,e))return n}function Ut(e){return function(t,r,n){r=Qe(r,n);for(var i=oe(t),o=e>0?0:i-1;o>=0&&o<i;o+=e)if(r(t[o],o,t))return o;return-1}}const Ft=Ut(1),Rt=Ut(-1);function Lt(e,t,r,n){for(var i=(r=Qe(r,n,1))(t),o=0,a=oe(e);o<a;){var s=Math.floor((o+a)/2);r(e[s])<i?o=s+1:a=s}return o}function Gt(e,t,r){return function(n,i,o){var a=0,s=oe(n);if("number"==typeof o)e>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(r&&o&&s)return n[o=r(n,i)]===i?o:-1;if(i!=i)return(o=t(c.call(n,a,s),Q))>=0?o+a:-1;for(o=e>0?a:s-1;o>=0&&o<s;o+=e)if(n[o]===i)return o;return-1}}const qt=Gt(1,Ft,Lt),zt=Gt(-1,Rt);function Wt(e,t,r){var n=(bt(e)?Ft:Bt)(e,t,r);if(void 0!==n&&-1!==n)return e[n]}function Kt(e,t){return Wt(e,Ke(t))}function Xt(e,t,r){var n,i;if(t=He(t,r),bt(e))for(n=0,i=e.length;n<i;n++)t(e[n],n,e);else{var o=se(e);for(n=0,i=o.length;n<i;n++)t(e[o[n]],o[n],e)}return e}function Ht(e,t,r){t=Qe(t,r);for(var n=!bt(e)&&se(e),i=(n||e).length,o=Array(i),a=0;a<i;a++){var s=n?n[a]:a;o[a]=t(e[s],s,e)}return o}function Yt(e){return function(t,r,n,i){var o=arguments.length>=3;return function(t,r,n,i){var o=!bt(t)&&se(t),a=(o||t).length,s=e>0?0:a-1;for(i||(n=t[o?o[s]:s],s+=e);s>=0&&s<a;s+=e){var d=o?o[s]:s;n=r(n,t[d],d,t)}return n}(t,He(r,i,4),n,o)}}const $t=Yt(1),Qt=Yt(-1);function Zt(e,t,r){var n=[];return t=Qe(t,r),Xt(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function Jt(e,t,r){return Zt(e,Ot(Qe(t)),r)}function er(e,t,r){t=Qe(t,r);for(var n=!bt(e)&&se(e),i=(n||e).length,o=0;o<i;o++){var a=n?n[o]:o;if(!t(e[a],a,e))return!1}return!0}function tr(e,t,r){t=Qe(t,r);for(var n=!bt(e)&&se(e),i=(n||e).length,o=0;o<i;o++){var a=n?n[o]:o;if(t(e[a],a,e))return!0}return!1}function rr(e,t,r,n){return bt(e)||(e=ke(e)),("number"!=typeof r||n)&&(r=0),qt(e,t,r)>=0}const nr=A((function(e,t,r){var n,i;return R(t)?i=t:(t=Le(t),n=t.slice(0,-1),t=t[t.length-1]),Ht(e,(function(e){var o=i;if(!o){if(n&&n.length&&(e=Ge(e,n)),null==e)return;o=e[t]}return null==o?o:o.apply(e,r)}))}));function ir(e,t){return Ht(e,Xe(t))}function or(e,t){return Zt(e,Ke(t))}function ar(e,t,r){var n,i,o=-1/0,a=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var s=0,d=(e=bt(e)?e:ke(e)).length;s<d;s++)null!=(n=e[s])&&n>o&&(o=n);else t=Qe(t,r),Xt(e,(function(e,r,n){((i=t(e,r,n))>a||i===-1/0&&o===-1/0)&&(o=e,a=i)}));return o}function sr(e,t,r){var n,i,o=1/0,a=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var s=0,d=(e=bt(e)?e:ke(e)).length;s<d;s++)null!=(n=e[s])&&n<o&&(o=n);else t=Qe(t,r),Xt(e,(function(e,r,n){((i=t(e,r,n))<a||i===1/0&&o===1/0)&&(o=e,a=i)}));return o}var dr=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function ur(e){return e?K(e)?c.call(e):j(e)?e.match(dr):bt(e)?Ht(e,We):ke(e):[]}function cr(e,t,r){if(null==t||r)return bt(e)||(e=ke(e)),e[rt(e.length-1)];var n=ur(e),i=oe(n);t=Math.max(Math.min(t,i),0);for(var o=i-1,a=0;a<t;a++){var s=rt(a,o),d=n[a];n[a]=n[s],n[s]=d}return n.slice(0,t)}function gr(e){return cr(e,1/0)}function lr(e,t,r){var n=0;return t=Qe(t,r),ir(Ht(e,(function(e,r,i){return{value:e,index:n++,criteria:t(e,r,i)}})).sort((function(e,t){var r=e.criteria,n=t.criteria;if(r!==n){if(r>n||void 0===r)return 1;if(r<n||void 0===n)return-1}return e.index-t.index})),"value")}function fr(e,t){return function(r,n,i){var o=t?[[],[]]:{};return n=Qe(n,i),Xt(r,(function(t,i){var a=n(t,i,r);e(o,t,a)})),o}}const hr=fr((function(e,t,r){X(e,r)?e[r].push(t):e[r]=[t]})),pr=fr((function(e,t,r){e[r]=t})),vr=fr((function(e,t,r){X(e,r)?e[r]++:e[r]=1})),yr=fr((function(e,t,r){e[r?0:1].push(t)}),!0);function mr(e){return null==e?0:bt(e)?e.length:se(e).length}function xr(e,t,r){return t in r}const Er=A((function(e,t){var r={},n=t[0];if(null==e)return r;R(n)?(t.length>1&&(n=He(n,t[1])),t=ve(e)):(n=xr,t=At(t,!1,!1),e=Object(e));for(var i=0,o=t.length;i<o;i++){var a=t[i],s=e[a];n(s,a,e)&&(r[a]=s)}return r})),Vr=A((function(e,t){var r,n=t[0];return R(n)?(n=Ot(n),t.length>1&&(r=t[1])):(t=Ht(At(t,!1,!1),String),n=function(e,r){return!rr(t,r)}),Er(e,n,r)}));function _r(e,t,r){return c.call(e,0,Math.max(0,e.length-(null==t||r?1:t)))}function br(e,t,r){return null==e||e.length<1?null==t||r?void 0:[]:null==t||r?e[0]:_r(e,e.length-t)}function Ar(e,t,r){return c.call(e,null==t||r?1:t)}function Sr(e,t,r){return null==e||e.length<1?null==t||r?void 0:[]:null==t||r?e[e.length-1]:Ar(e,Math.max(0,e.length-t))}function Tr(e){return Zt(e,Boolean)}function wr(e,t){return At(e,t,!1)}const kr=A((function(e,t){return t=At(t,!0,!0),Zt(e,(function(e){return!rr(t,e)}))})),Cr=A((function(e,t){return kr(e,t)}));function Nr(e,t,r,n){k(t)||(n=r,r=t,t=!1),null!=r&&(r=Qe(r,n));for(var i=[],o=[],a=0,s=oe(e);a<s;a++){var d=e[a],u=r?r(d,a,e):d;t&&!r?(a&&o===u||i.push(d),o=u):r?rr(o,u)||(o.push(u),i.push(d)):rr(i,d)||i.push(d)}return i}const jr=A((function(e){return Nr(At(e,!0,!0))}));function Or(e){for(var t=[],r=arguments.length,n=0,i=oe(e);n<i;n++){var o=e[n];if(!rr(t,o)){var a;for(a=1;a<r&&rr(arguments[a],o);a++);a===r&&t.push(o)}}return t}function Pr(e){for(var t=e&&ar(e,oe).length||0,r=Array(t),n=0;n<t;n++)r[n]=ir(e,n);return r}const Dr=A(Pr);function Ir(e,t){for(var r={},n=0,i=oe(e);n<i;n++)t?r[e[n]]=t[n]:r[e[n][0]]=e[n][1];return r}function Mr(e,t,r){null==t&&(t=e||0,e=0),r||(r=t<e?-1:1);for(var n=Math.max(Math.ceil((t-e)/r),0),i=Array(n),o=0;o<n;o++,e+=r)i[o]=e;return i}function Br(e,t){if(null==t||t<1)return[];for(var r=[],n=0,i=e.length;n<i;)r.push(c.call(e,n,n+=t));return r}function Ur(e,t){return e._chain?ce(t).chain():t}function Fr(e){return Xt(je(e),(function(t){var r=ce[t]=e[t];ce.prototype[t]=function(){var e=[this._wrapped];return u.apply(e,arguments),Ur(this,r.apply(ce,e))}})),ce}Xt(["pop","push","reverse","shift","sort","splice","unshift"],(function(e){var t=a[e];ce.prototype[e]=function(){var r=this._wrapped;return null!=r&&(t.apply(r,arguments),"shift"!==e&&"splice"!==e||0!==r.length||delete r[0]),Ur(this,r)}})),Xt(["concat","join","slice"],(function(e){var t=a[e];ce.prototype[e]=function(){var e=this._wrapped;return null!=e&&(e=t.apply(e,arguments)),Ur(this,e)}}));const Rr=ce;var Lr=Fr(n);Lr._=Lr;const Gr=Lr}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n=r(138);DAGitty=n})();